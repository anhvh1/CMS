"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[941],{74208:function(n,e,t){t.d(e,{E:function(){return c}});var a=t(45133),i=t.n(a),r=t(66660),c=function(n,e){return i()({method:"POST",url:n,data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,r.Y8)())}}).catch((function(n){var e=n.response,t=e.status,a=e.statusText;return{Status:0,Message:t||a?"".concat(t," - ").concat(a):"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra"}}))}},68448:function(n,e,t){t.d(e,{Z:function(){return o}});t(50390);var a,i=t(30168),r=t(16932),c=(t(32619),r.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),l=t(62559),o=function(n){return(0,l.jsx)(c,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return d}});t(50390);var a,i=t(30168),r=t(16932),c=t(29665),l=r.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),o=(0,c.Z)(l),u=t(62559),d=function(n){return(0,u.jsx)(o,{children:n.children})}},32812:function(n,e,t){t.d(e,{z:function(){return r}});var a=t(29439),i=t(50390);function r(n){var e=(0,i.useState)(0),t=(0,a.Z)(e,2),r=t[0],c=t[1];return[r,function(){c(r+1)}]}},80941:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var a=t(1413),i=t(74165),r=t(15861),c=t(29439),l=t(50390),o=t(34424),u=(t(45133),t(64693)),d=t(51210),s=t(35037),h=t(70785),f=t.n(h),p=t(60606),g=t.n(p),v=t(3143),Z=t(7335),m=t(24274),x=t(41367),C=t(23194),D=t(31348),w=t(35951),j=t(93433),S=t(46008),T=t(32955),y=t(891),L=t(91565),M=t(41719),I=t(79758),b=t(97555),k=t(81295),E=t(66660),P=t(62559),F=S.Z.Item,N=function(n){var e=(0,l.useState)([]),t=(0,c.Z)(e,2),i=(t[0],t[1],(0,l.useState)(!1)),r=(0,c.Z)(i,2),u=r[0],d=(r[1],(0,l.useState)([])),f=(0,c.Z)(d,2),p=f[0],g=f[1],v=((0,o.v9)((function(n){return n.ListSideBar})).ListSideBar,(0,l.useState)([])),Z=(0,c.Z)(v,2),m=Z[0],x=Z[1],C=(0,S.Z.useForm)(),D=(0,c.Z)(C,1)[0];(0,o.I0)();(0,l.useEffect)((function(){}),[]);var w=function(n){s.Z.GetListMenuByCap({CapID:n}).then((function(n){n.data.Status>0&&x(n.data.Data)}))};(0,l.useEffect)((function(){var e=n.dataModalAddEdit;if(e){e.DanhSachHuongDan;var t,i,r=e.Data;D&&D.setFieldsValue((0,a.Z)({},r));var c;if(null!==(t=e.Data)&&void 0!==t&&t.TenFileGoc){var l,o,u={TenFileGoc:null===(l=e.Data)||void 0===l?void 0:l.TenFileGoc,FileUrl:null===(o=e.Data)||void 0===o?void 0:o.UrlFile};g([u])}if(null!==e&&void 0!==e&&null!==(i=e.Data)&&void 0!==i&&i.CapID)w(null===e||void 0===e||null===(c=e.Data)||void 0===c?void 0:c.CapID)}}),[]);var y=function(n,e,t){var a=(0,j.Z)(t);g(a)},N=function(n,e,t){var a,i=null===(a=(0,E.kA)("data_config"))||void 0===a?void 0:a.fileLimit,r=n.size/1024/1024<i,c=[];return null===t||void 0===t||t.forEach((function(n){p.filter((function(e){return e.TenFileGoc===n.name})).length&&c.push(n)})),r?function(n,e,t){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result,n,t)})),a.readAsDataURL(n)}(n,e,t):T.ZP.error("File \u0111\xednh k\xe8m ph\u1ea3i nh\u1ecf h\u01a1n ".concat(i,"MB")),!1},H=n.confirmLoading,z=n.visible,R=n.onCancel,U=n.actions,O=n.danhSachCacCap;return(0,P.jsx)(k.Z,{title:"add"===U?"Th\xeam m\u1edbi h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng":"C\u1eadp nh\u1eadt h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng",width:h.MODAL_NORMAL,visible:z,onCancel:R,footer:[(0,P.jsx)(L.ZP,{onClick:R,children:"H\u1ee7y"},"back"),(0,P.jsx)(L.ZP,{loading:H,onClick:function(e){e.preventDefault(),D.validateFields().then((function(e){if(p.length<1)return T.ZP.destroy(),void T.ZP.warning("Ch\u01b0a ch\u1ecdn file \u0111\xednh k\xe8m");var t=(0,a.Z)((0,a.Z)({},e),{},{TenFileGoc:p[0].name});(0,n.onCreate)(t,p[0])}))},type:"primary",children:"L\u01b0u"})],children:(0,P.jsxs)(S.Z,{form:D,children:["add"!==U?(0,P.jsx)(F,(0,a.Z)({name:"HuongDanSuDungID",hidden:!0},h.REQUIRED)):null,(0,P.jsx)(F,(0,a.Z)((0,a.Z)((0,a.Z)({label:"Ch\u1ecdn c\u1ea5p"},h.ITEM_LAYOUT),{},{name:"CapID"},h.REQUIRED),{},{children:(0,P.jsx)(b.ZP,{allowClear:!0,placeholder:"Ch\u1ecdn c\u1ea5p",onChange:function(n){return w(n)},children:null===O||void 0===O?void 0:O.map((function(n){return(0,P.jsx)(b.Wx,{value:n.Cap,children:n.TenCap})}))})})),(0,P.jsx)(F,(0,a.Z)((0,a.Z)((0,a.Z)({label:"Ch\u1ee9c n\u0103ng"},h.ITEM_LAYOUT),{},{name:"MaChucNang"},h.REQUIRED),{},{children:(0,P.jsx)(b.ZP,{placeholder:"Ch\u1ecdn ch\u1ee9c n\u0103ng",children:m.map((function(n){return(0,P.jsx)(b.Xo,{label:n.TenMenu,children:n.Children.filter((function(n){return n})).map((function(n){return(0,P.jsx)(b.Wx,{disabled:!n.ViewOnly,value:n.key,children:n.TenMenu},n.MaMenu)}))},n.MaMenu)}))})})),(0,P.jsx)(F,(0,a.Z)((0,a.Z)((0,a.Z)({label:"Ti\xeau \u0111\u1ec1 h\u01b0\u1edbng d\u1eabn",name:"TieuDe"},h.REQUIRED),h.ITEM_LAYOUT),{},{children:(0,P.jsx)(M.Z,{})})),(0,P.jsx)(F,(0,a.Z)((0,a.Z)({label:"Link",name:"Link"},h.ITEM_LAYOUT),{},{children:(0,P.jsx)(M.Z,{})})),(0,P.jsxs)(F,(0,a.Z)((0,a.Z)({label:"File h\u01b0\u1edbng d\u1eabn"},h.ITEM_LAYOUT),{},{children:[(0,P.jsx)(I.Z,{showUploadList:!1,actions:!1,beforeUpload:function(n,e){N(n,y,e)},disabled:u,children:(0,P.jsx)(L.ZP,{type:"primary",loading:u,className:"btn-upload",children:"Ch\u1ecdn file t\u1eeb li\u1ec7u t\u1eeb m\xe1y t\xednh"})}),p&&null!==p&&void 0!==p&&p.length?p.map((function(n,e){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("p",{children:(0,P.jsx)("a",{target:"_bank",href:null===n||void 0===n?void 0:n.FileUrl,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFileGoc)})})})})):""]})),(0,P.jsx)("div",{})]})})},H=t(91160),z=t(74208),R=t(57206),U=t(81299),O=t(86460),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},V=t(34224),A=function(n,e){return l.createElement(V.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:B}))};A.displayName="DownloadOutlined";var G=l.forwardRef(A),Y=t(32812),_=t(68448),Q=t(66331);var J=(0,o.$j)((function(n){return(0,a.Z)((0,a.Z)({},n.QLHuongDanSuDung),{},{FileLimit:(0,E.wU)("fileLimit",10)})}),d.Z)((function(n){document.title="t\xe0i li\u1ec7u h\u01b0\u1edbng d\u1eabn";var e=(0,l.useState)(u.parse(n.location.search)),t=(0,c.Z)(e,2),h=t[0],p=t[1],j=(0,l.useState)(!1),S=(0,c.Z)(j,2),L=S[0],M=S[1],I=(0,Y.z)(),k=(0,c.Z)(I,2),F=k[0],B=k[1],V=(0,l.useState)(!1),A=(0,c.Z)(V,2),J=A[0],K=A[1],W=(0,o.v9)((function(n){return n.ListSideBar})).ListSideBar,X=(0,l.useState)({}),q=(0,c.Z)(X,2),$=q[0],nn=q[1],en=(0,l.useState)([]),tn=(0,c.Z)(en,2),an=tn[0],rn=tn[1],cn=(0,l.useState)(""),ln=(0,c.Z)(cn,2),on=ln[0],un=ln[1],dn=(0,o.I0)(),sn=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.danhSachCacCapDonVi();case 3:e=n.sent,rn(e.data.Data),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){dn(d.Z.getInitData(h)),dn(w.Z.getList()),sn()}),[]),(0,l.useEffect)((function(){(0,E.ZZ)(h),n.getList(h)}),[h]);var hn=function(n,e){var t=(0,a.Z)({},h),i={value:n,property:e},r=(0,E.mB)(t,i,null);p(r)},fn=function(){nn({}),K(!0),B(),un("add")},pn=function(){K(!1),nn({})},gn=n.DanhSachHuongDan,vn=n.TotalRow,Zn=n.role,mn=h.PageNumber?parseInt(h.PageNumber):1,xn=h.PageSize?parseInt(h.PageSize):(0,E.hL)(),Cn=[{title:"STT",align:"center",width:"5%",render:function(n,e,t){return(0,P.jsx)("span",{children:(mn-1)*xn+(t+1)})}},{title:"T\xean ch\u1ee9c n\u0103ng",dataIndex:"TenChucNang",width:"25%"},{title:"Ti\xeau \u0111\u1ec1 h\u01b0\u1edbng d\u1eabn",dataIndex:"TieuDe",width:"30%",render:function(n,e,t){return(0,P.jsx)("span",{style:{whiteSpace:"pre"},children:n})}},{title:"C\u1ea5p",dataIndex:"TenChucNang",width:"10%",render:function(n,e,t){var a;return(0,P.jsx)("span",{children:e.CapID?null===(a=an.find((function(n){return n.Cap===e.CapID})))||void 0===a?void 0:a.TenCap:null})}},{title:"Ng\xe0y c\u1eadp nh\u1eadt",dataIndex:"NgayCapNhat",width:"15%",align:"center",render:function(n){return g()(n).format("DD/MM/YYYY")}},{title:"Thao t\xe1c",dataIndex:"NgayCapNhat",width:"10%",align:"center",render:function(n,e,t){return(0,P.jsxs)("div",{className:"action-btn",children:[(0,P.jsx)(U.Z,{onClick:function(){return function(n){nn({Data:n,DanhSachHuongDan:[]}),K(!0),B(),un("edit")}(e)}}),(0,P.jsx)(O.Z,{onClick:function(){return n=e.HuongDanSuDungID,void y.Z.confirm({title:"X\xf3a d\u1eef li\u1ec7u",content:" B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file t\xe0i li\u1ec7u h\u01b0\u1edbng d\u1eabn n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){s.Z.xoaHuongDan({ListId:[n]}).then((function(n){n.data.Status>0?(T.ZP.success("X\xf3a th\xe0nh c\xf4ng"),dn(d.Z.getList(h)),dn(d.Z.getGuild())):y.Z.error({title:"L\u1ed7i",content:n.data.Message})})).catch((function(n){y.Z.error(f().API_ERROR)}))}});var n}}),(0,P.jsx)(G,{onClick:function(){return function(n){y.Z.confirm({title:"T\u1ea3i file h\u01b0\u1edbng d\u1eabn",content:"B\u1ea1n c\xf3 mu\u1ed1n t\u1ea3i file h\u01b0\u1edbng d\u1eabn?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.downloadFile({HuongDanSuDungID:n.HuongDanSuDungID});case 2:(t=e.sent)&&t.data.Status>0&&(a=t.data.Data).UrlFile&&""!==a.UrlFile&&((r=document.createElement("a")).href=a.UrlFile,r.download=a.TenFileGoc,r.target="_blank",r.click());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}(e)}})]})}}],Dn=n.FileLimit;return(0,P.jsxs)(v.Z,{children:[(0,P.jsxs)(_.Z,{children:[(0,P.jsx)(Z.Z,{children:"t\xe0i li\u1ec7u h\u01b0\u1edbng d\u1eabn"}),(0,P.jsx)(m.Z,{children:Zn.add?function(){n.FileLimit;return(0,P.jsx)("span",{children:(0,P.jsxs)(H.Z,{type:"primary",onClick:fn,children:[(0,P.jsx)(R.Z,{}),"Th\xeam m\u1edbi"]})})}():""})]}),(0,P.jsxs)(x.Z,{children:[(0,P.jsxs)(C.Z,{children:[(0,P.jsx)(b.ZP,{allowClear:!0,onChange:function(n){return hn(n,"NhomChucNang")},defaultValue:h.NhomChucNang?h.NhomChucNang:void 0,placeholder:"Ch\u1ecdn nh\xf3m ch\u1ee9c n\u0103ng",style:{width:200},children:W.map((function(n){return(0,P.jsx)(b.Wx,{value:n.MenuID.toString(),children:n.TenMenu},n.MenuID)}))}),(0,P.jsx)(b.ZP,{allowClear:!0,onChange:function(n){return hn(n,"CapID")},defaultValue:h.CapID?h.CapID:void 0,style:{width:"200px"},placeholder:"Ch\u1ecdn c\u1ea5p",children:null===an||void 0===an?void 0:an.map((function(n){var e;return(0,P.jsx)(b.Wx,{value:null===(e=n.Cap)||void 0===e?void 0:e.toString(),children:n.TenCap})}))}),(0,P.jsx)(Q.Vr,{allowClear:!0,defaultValue:h.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean ch\u1ee9c n\u0103ng",onSearch:function(n){return hn(n,"Keyword")},style:{width:300}})]}),(0,P.jsx)(D.ZP,{columns:Cn,dataSource:gn,loading:n.TableLoading,onChange:function(n,e,t){var i=(0,a.Z)({},h),r={pagination:n,filters:e,sorter:t},c=(0,E.mB)(i,null,r);p(c)},pagination:{showSizeChanger:!0,showTotal:function(n,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:vn,current:mn,pageSize:xn}})]}),(0,P.jsx)(N,{confirmLoading:L,visible:J,onCancel:pn,onCreate:function(n,e){if(M(!0),"add"===on){var t=new FormData;t.append("files",e),t.append("HuongDanSuDungModelStr",JSON.stringify(n)),(0,z.E)(s.J.themhuongdan,t).then((function(n){M(!1),n.data.Status>0?(T.ZP.success("Th\xeam th\xe0nh c\xf4ng"),pn(),dn(d.Z.getList(h)),dn(d.Z.getGuild())):(T.ZP.destroy(),T.ZP.error(n.data.Message))})).catch((function(n){T.ZP.destroy(),T.ZP.error(n.toString())}))}else if("edit"===on){var a=new FormData;a.append("HuongDanSuDungModelStr",JSON.stringify(n)),e.name&&a.append("files",e),(0,z.E)(s.J.suahuongdan,a).then((function(n){M(!1),n.data.Status>0?(T.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),pn(),dn(d.Z.getList(h)),dn(d.Z.getGuild())):(T.ZP.destroy(),T.ZP.error(n.data.Message))})).catch((function(n){T.ZP.destroy(),T.ZP.error(n.toString())}))}},dataModalAddEdit:$,danhSachCacCap:an,FileLimit:Dn,actions:d.Z},F)]})}))},86460:function(n,e,t){t.d(e,{Z:function(){return o}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=t(34224),l=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="DeleteOutlined";var o=i.forwardRef(l)},81299:function(n,e,t){t.d(e,{Z:function(){return o}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},c=t(34224),l=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="EditOutlined";var o=i.forwardRef(l)},57206:function(n,e,t){t.d(e,{Z:function(){return o}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},c=t(34224),l=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="FileAddOutlined";var o=i.forwardRef(l)}}]);