"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[900],{74208:function(n,t,e){e.d(t,{E:function(){return c}});var a=e(45133),i=e.n(a),r=e(66660),c=function(n,t){return i()({method:"POST",url:n,data:t,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,r.Y8)())}}).catch((function(n){var t=n.response,e=t.status,a=t.statusText;return{Status:0,Message:e||a?"".concat(e," - ").concat(a):"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra"}}))}},68448:function(n,t,e){e.d(t,{Z:function(){return l}});e(50390);var a,i=e(30168),r=e(16932),c=(e(32619),r.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),o=e(62559),l=function(n){return(0,o.jsx)(c,{className:"wrapper-top",children:n.children})}},24274:function(n,t,e){e.d(t,{Z:function(){return d}});e(50390);var a,i=e(30168),r=e(16932),c=e(29665),o=r.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),l=(0,c.Z)(o),u=e(62559),d=function(n){return(0,u.jsx)(l,{children:n.children})}},32812:function(n,t,e){e.d(t,{z:function(){return r}});var a=e(29439),i=e(50390);function r(n){var t=(0,i.useState)(0),e=(0,a.Z)(t,2),r=e[0],c=e[1];return[r,function(){c(r+1)}]}},55900:function(n,t,e){e.r(t),e.d(t,{default:function(){return q}});var a=e(1413),i=e(74165),r=e(15861),c=e(29439),o=e(50390),l=e(34424),u=(e(45133),e(64693)),d=e(76407),s=e(61470),f=e(70785),h=e.n(f),Z=(e(60606),e(3143)),p=e(7335),g=e(24274),v=e(41367),m=e(23194),x=e(31348),w=e(35951),y=e(93433),b=e(46008),T=e(32955),j=e(91565),C=e(41719),S=e(79758),L=(e(97555),e(81295)),D=e(66660),k=e(62559),E=b.Z.Item,P=function(n){var t=(0,o.useState)(!1),e=(0,c.Z)(t,2),i=e[0],r=(e[1],(0,o.useState)([])),u=(0,c.Z)(r,2),d=u[0],s=u[1],h=((0,l.v9)((function(n){return n.ListSideBar})).ListSideBar,(0,b.Z.useForm)()),Z=(0,c.Z)(h,1)[0];(0,l.I0)();(0,o.useEffect)((function(){}),[]),(0,o.useEffect)((function(){var t=n.dataModalAddEdit;if(t){t.DanhSachBaoVatQuocGia;var e,i,r=t.Data;Z&&Z.setFieldsValue((0,a.Z)({},r));var c;if(null!==(e=t.Data)&&void 0!==e&&e.TenFileGoc){var o,l,u={TenFileGoc:null===(o=t.Data)||void 0===o?void 0:o.TenFileGoc,FileUrl:null===(l=t.Data)||void 0===l?void 0:l.UrlFile};s([u])}if(null!==t&&void 0!==t&&null!==(i=t.Data)&&void 0!==i&&i.CapID)GetListMenuByCap(null===t||void 0===t||null===(c=t.Data)||void 0===c?void 0:c.CapID)}}),[]);var p=function(n,t,e){var a=(0,y.Z)(e);s(a)},g=function(n,t,e){var a,i=null===(a=(0,D.kA)("data_config"))||void 0===a?void 0:a.fileLimit,r=n.size/1024/1024<i,c=[];return null===e||void 0===e||e.forEach((function(n){d.filter((function(t){return t.TenFileGoc===n.name})).length&&c.push(n)})),r?function(n,t,e){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result,n,e)})),a.readAsDataURL(n)}(n,t,e):T.ZP.error("File \u0111\xednh k\xe8m ph\u1ea3i nh\u1ecf h\u01a1n ".concat(i,"MB")),!1},v=n.confirmLoading,m=n.visible,x=n.onCancel,w=n.action;return(0,k.jsx)(L.Z,{title:"".concat("edit"===w?"C\u1eadp nh\u1eadt":"Th\xeam"," b\u1ea3o t\xe0ng"),width:f.MODAL_NORMAL,visible:m,onCancel:x,footer:[(0,k.jsx)(j.ZP,{onClick:x,children:"H\u1ee7y"},"back"),(0,k.jsx)(j.ZP,{loading:v,onClick:function(t){t.preventDefault(),Z.validateFields().then((function(t){if(d.length<1)return T.ZP.destroy(),void T.ZP.warning("Ch\u01b0a ch\u1ecdn file \u0111\xednh k\xe8m");var e=(0,a.Z)((0,a.Z)({},t),{},{TenFileGoc:d[0].name});(0,n.onCreate)(e,d[0])}))},type:"primary",children:"L\u01b0u"})],children:(0,k.jsxs)(b.Z,{form:Z,children:["edit"===w?(0,k.jsx)(E,{name:"ID",hidden:!0}):"",(0,k.jsx)(E,(0,a.Z)((0,a.Z)({label:"T\xean",name:"TenBaoTang"},f.ITEM_LAYOUT),{},{rules:[f.REQUIRED],children:(0,k.jsx)(C.Z,{})})),(0,k.jsx)(E,(0,a.Z)((0,a.Z)((0,a.Z)({label:"\u0110\u1ecba ch\u1ec9",name:"DiaChi"},f.REQUIRED),f.ITEM_LAYOUT),{},{children:(0,k.jsx)(C.Z,{})})),(0,k.jsxs)(E,(0,a.Z)((0,a.Z)({label:"Th\xf4ng tin chi ti\u1ebft"},f.ITEM_LAYOUT),{},{rules:[f.REQUIRED],children:[(0,k.jsx)(S.Z,{showUploadList:!1,actions:!1,beforeUpload:function(n,t){g(n,p,t)},disabled:i,children:(0,k.jsx)(j.ZP,{type:"primary",loading:i,className:"btn-upload",children:"Ch\u1ecdn file t\u1eeb li\u1ec7u t\u1eeb m\xe1y t\xednh"})}),d&&null!==d&&void 0!==d&&d.length?d.map((function(n,t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("p",{children:(0,k.jsx)("a",{target:"_bank",href:null===n||void 0===n?void 0:n.FileUrl,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFileGoc)})})})})):""]})),(0,k.jsx)("div",{})]})})},F=e(891),B=e(78333),I=e(91160),M=e(74208),z=e(35238),R=e(81299),U=e(86460),O=e(79588),G=e(32812),N=e(68448),A=e(66331);var q=(0,l.$j)((function(n){return(0,a.Z)((0,a.Z)({},n.QLBaoTang),{},{FileLimit:(0,D.wU)("fileLimit",10)})}),d.Z)((function(n){document.title="Qu\u1ea3n l\xfd b\u1ea3o t\xe0ng";var t=(0,o.useState)(u.parse(n.location.search)),e=(0,c.Z)(t,2),f=e[0],y=e[1],b=(0,o.useState)(!1),j=(0,c.Z)(b,2),C=j[0],S=j[1],L=(0,G.z)(),E=(0,c.Z)(L,2),q=E[0],Q=E[1],_=(0,o.useState)(!1),H=(0,c.Z)(_,2),V=H[0],J=H[1],K=((0,l.v9)((function(n){return n.ListSideBar})).ListSideBar,(0,o.useState)({})),Y=(0,c.Z)(K,2),X=Y[0],$=Y[1],W=(0,o.useState)([]),nn=(0,c.Z)(W,2),tn=nn[0],en=nn[1],an=(0,o.useState)(""),rn=(0,c.Z)(an,2),cn=rn[0],on=rn[1],ln=(0,l.I0)(),un=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.danhSachCacCapDonVi();case 3:t=n.sent,en(t.data.Data),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();(0,o.useEffect)((function(){ln(d.Z.getInitData(f)),ln(w.Z.getList()),un()}),[]),(0,o.useEffect)((function(){(0,D.ZZ)(f),n.getList(f)}),[f]);var dn=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(t){var e,a,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.downloadFile({ID:t.ID});case 3:(e=n.sent)&&e.data.Status>0?(a=e.data.Data).UrlFile&&""!==a.UrlFile&&((r=document.createElement("a")).href=a.UrlFile,r.download=a.TenFileGoc,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)):T.ZP.error("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),sn=function(){J(!1),$({})},fn=n.DanhSachBaoTang,hn=n.TotalRow,Zn=(n.role,f.PageNumber?parseInt(f.PageNumber):1),pn=f.PageSize?parseInt(f.PageSize):(0,D.hL)(),gn=[{title:"STT",align:"center",width:"5%",render:function(n,t,e){return(0,k.jsx)("span",{children:(Zn-1)*pn+(e+1)})}},{title:"T\xean b\u1ea3o t\xe0ng",dataIndex:"TenBaoTang",width:"45%"},{title:"\u0110\u1ecba ph\u01b0\u01a1ng",dataIndex:"DiaChi",width:"40%"},{title:"Thao t\xe1c",width:"10%",align:"center",margin:"10px",render:function(n,t){return vn(t)}}],vn=function(n){return(0,k.jsxs)("div",{className:"action-btn",children:[(0,k.jsx)(B.Z,{title:"Chi ti\u1ebft",children:(0,k.jsx)(z.Z,{onClick:function(){return dn(n)}})}),(0,k.jsx)(B.Z,{title:"S\u1eeda",children:(0,k.jsx)(R.Z,{onClick:function(){return function(n){$({Data:n,DanhSachBaoTang:[]}),J(!0),Q(),on("edit")}(n)}})}),(0,k.jsx)(B.Z,{title:"X\xf3a",children:(0,k.jsx)(U.Z,{onClick:function(){return t=n.ID,void F.Z.confirm({title:"X\xf3a d\u1eef li\u1ec7u",content:" B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file b\u1ea3o v\u1eadt qu\u1ed1c gia n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){s.Z.xoaBaoTang(t).then((function(n){n.data.Status>0?(T.ZP.success("X\xf3a th\xe0nh c\xf4ng"),ln(d.Z.getList(f)),ln(d.Z.getGuild())):F.Z.error({title:"L\u1ed7i",content:n.data.Message})})).catch((function(n){F.Z.error(h().API_ERROR)}))}});var t}})})]})},mn=n.FileLimit;return(0,k.jsxs)(Z.Z,{children:[(0,k.jsxs)(N.Z,{children:[(0,k.jsx)(p.Z,{children:"Qu\u1ea3n l\xfd b\u1ea3o t\xe0ng"}),(0,k.jsx)(g.Z,{children:(0,k.jsxs)(I.Z,{type:"primary",onClick:function(){$({}),J(!0),Q(),on("add")},children:[(0,k.jsx)(O.Z,{}),"Th\xeam m\u1edbi"," "]})})]}),(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(m.Z,{children:(0,k.jsx)(A.Vr,{allowClear:!0,defaultValue:f.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean b\u1ea3o t\xe0ng",onSearch:function(n){return function(n,t){var e=(0,a.Z)({},f),i={value:n,property:t},r=(0,D.mB)(e,i,null);y(r)}(n,"Keyword")},style:{width:300}})}),(0,k.jsx)(x.ZP,{columns:gn,dataSource:fn,loading:n.TableLoading,onChange:function(n,t,e){var i=(0,a.Z)({},f),r={pagination:n,filters:t,sorter:e},c=(0,D.mB)(i,null,r);y(c)},pagination:{showSizeChanger:!0,showTotal:function(n,t){return"T\u1eeb ".concat(t[0]," \u0111\u1ebfn ").concat(t[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:hn,current:Zn,pageSize:pn}})]}),(0,k.jsx)(P,{confirmLoading:C,visible:V,onCancel:sn,onCreate:function(n,t){if(S(!0),"add"===cn){var e=new FormData;e.append("files",t),e.append("QuanLyBaoTangStr",JSON.stringify(n)),(0,M.E)(s.J.thembaotang,e).then((function(n){S(!1),n.data.Status>0?(T.ZP.success("Th\xeam th\xe0nh c\xf4ng"),sn(),ln(d.Z.getList(f)),ln(d.Z.getGuild())):(T.ZP.destroy(),T.ZP.error(n.data.Message))})).catch((function(n){T.ZP.destroy(),T.ZP.error(n.toString())}))}else if("edit"===cn){var a=new FormData;a.append("QuanLyBaoTangStr",JSON.stringify(n)),t.name&&a.append("files",t),(0,M.E)(s.J.suabaotang,a).then((function(n){S(!1),n.data.Status>0?(T.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),sn(),ln(d.Z.getList(f)),ln(d.Z.getGuild())):(T.ZP.destroy(),T.ZP.error(n.data.Message))})).catch((function(n){T.ZP.destroy(),T.ZP.error(n.toString())}))}},dataModalAddEdit:X,danhSachCacCap:tn,FileLimit:mn,action:cn},q)]})}))},86460:function(n,t,e){e.d(t,{Z:function(){return l}});var a=e(1413),i=e(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=e(34224),o=function(n,t){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,icon:r}))};o.displayName="DeleteOutlined";var l=i.forwardRef(o)},81299:function(n,t,e){e.d(t,{Z:function(){return l}});var a=e(1413),i=e(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},c=e(34224),o=function(n,t){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,icon:r}))};o.displayName="EditOutlined";var l=i.forwardRef(o)},35238:function(n,t,e){e.d(t,{Z:function(){return l}});var a=e(1413),i=e(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},c=e(34224),o=function(n,t){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,icon:r}))};o.displayName="EyeOutlined";var l=i.forwardRef(o)},79588:function(n,t,e){e.d(t,{Z:function(){return l}});var a=e(1413),i=e(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=e(34224),o=function(n,t){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,icon:r}))};o.displayName="PlusOutlined";var l=i.forwardRef(o)}}]);