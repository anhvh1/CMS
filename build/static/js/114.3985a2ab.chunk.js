"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[114],{44024:function(n,t,e){e.d(t,{_:function(){return c},c:function(){return d}});var a=e(1413),i=e(46008),r=e(66660),o=e(62559),c=function(n){return(0,o.jsx)(i.Z,(0,a.Z)((0,a.Z)({onForm:i.Z.useForm},n),{},{onFieldsChange:function(){(0,r.dM)(n.form||n.ref,n.onChangeStatusButton,n.name)}}))},d=i.Z.useForm},94115:function(n,t,e){e.d(t,{c:function(){return s}});var a=e(1413),i=e(93433),r=e(46008),o=e(66660),c=e(70785),d=e(62559),u=r.Z.Item,s=function(n){var t=n.rules?n.rules:[];return(0,d.jsx)(u,(0,a.Z)((0,a.Z)({},n),{},{rules:[].concat((0,i.Z)(t),[{validator:function(t,e,a){return(0,o.ft)(t,e,a,c.MAXLENGTH,null===n||void 0===n?void 0:n.label)}}])}))}},67225:function(n,t,e){var a,i=e(8491),r=e(30168),o=e(16932);e(32619),c=i.Z,(0,o.ZP)(c)(a||(a=(0,r.Z)(["\n  &.ant-switch-checked {\n    \n  }\n"])));var c},24274:function(n,t,e){e.d(t,{Z:function(){return s}});e(50390);var a,i=e(30168),r=e(16932),o=e(29665),c=r.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),d=(0,o.Z)(c),u=e(62559),s=function(n){return(0,u.jsx)(d,{children:n.children})}},32812:function(n,t,e){e.d(t,{z:function(){return r}});var a=e(29439),i=e(50390);function r(n){var t=(0,i.useState)(0),e=(0,a.Z)(t,2),r=e[0],o=e[1];return[r,function(){o(r+1)}]}},61114:function(n,t,e){e.r(t),e.d(t,{default:function(){return E}});var a=e(1413),i=e(29439),r=e(78333),o=e(50390),c=e(34424),d=e(494),u=e(3143),s=e(7335),l=e(24274),h=e(41367),f=e(23194),g=e(31348),Z=(e(47471),e(67225),e(21669)),p=e(66660),x=(e(32812),e(64693)),m=e(36837),C=e(70785),P=e(74165),T=e(15861),v=e(94115),M=e(44024),b=e(62559),D=function(n){var t=(0,M.c)(),e=(0,i.Z)(t,1)[0],r=(0,o.useState)(!0),c=(0,i.Z)(r,2),d=c[0],u=c[1],s=n.dataEdit,l=n.loading,h=n.visible,f=n.action;(0,o.useEffect)((function(){s&&s.ID&&e&&e.setFieldsValue((0,a.Z)((0,a.Z)({},s),{},{TrangThai:s.TrangThai?1:0}))}),[]);var g=function(){var t=(0,T.Z)((0,P.Z)().mark((function t(i){var r;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.next=3,e.validateFields();case 3:r=t.sent,n.onCreate((0,a.Z)((0,a.Z)({},r),{},{Loai:5,TrangThai:Boolean(r.TrangThai)}));case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var n=(0,T.Z)((0,P.Z)().mark((function n(t,a){var i,r;return(0,P.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getFieldsValue();case 2:i=n.sent,r=i.Ten,u(!r);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();return(0,b.jsx)(Z.u_,{title:"".concat("edit"===f?"S\u1eecA":"TH\xcaM"," C\u1ea4P DI T\xcdCH X\u1ebeP H\u1ea0NG"),width:450,visible:h,onCancel:n.onCancel,footer:[(0,b.jsx)(Z.zx,{onClick:n.onCancel,children:"H\u1ee7y"},"back"),(0,b.jsx)(Z.zx,{htmlType:"submit",type:"primary",form:"FormCapDiTich",loading:l,onClick:g,disabled:d,children:"L\u01b0u"},"submit")],children:(0,b.jsxs)(M._,{form:e,name:"FormCapDiTich",onChange:p,children:["edit"===f?(0,b.jsx)(v.c,{name:"ID",hidden:!0}):"",(0,b.jsx)(v.c,(0,a.Z)((0,a.Z)({label:"T\xean",name:"Ten"},C.ITEM_LAYOUT),{},{rules:[C.REQUIRED],children:(0,b.jsx)(Z.II,{})})),(0,b.jsx)(v.c,(0,a.Z)((0,a.Z)({label:"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb",name:"GhiChu"},C.ITEM_LAYOUT),{},{rules:[C.REQUIRED],children:(0,b.jsx)(Z.II,{})}))]})})},S=e(81299),y=e(86460),j=e(79588),w=e(11322);var E=(0,c.$j)((function(n){return(0,a.Z)({},n.DMCapDiTichXepHang)}),d.Z)((function(n){document.title="Danh M\u1ee5c C\u1ea5p Di T\xedch X\u1ebfp H\u1ea1ng";var t=(0,o.useState)(x.parse(n.location.search)),e=(0,i.Z)(t,2),a=e[0],c=e[1],d=(0,o.useState)([]),P=(0,i.Z)(d,2),T=(P[0],P[1],(0,m.Z)(C.DANHMUCCHUNG.DITICHCAPXEPHANG).api);(0,o.useEffect)((function(){(0,p.ZZ)(a),n.getData(a)}),[a]),(0,o.useEffect)((function(){n.getData(a)}),[]);var v=n.DanhSachCapDiTichXepHang,M=n.TotalRow,E=(n.role,n.TableLoading),I=(0,w.M)(a,c,T,n,M),k=I.showModalAdd,A=I.showModalEdit,N=I.submitModalAddEdit,H=I.deleteModalAddEdit,z=I.onFilter,F=I.onTableChange,L=I.dataModalAddEdit,X=I.confirmLoading,G=I.visibleModalAddEdit,U=I.hideModalAddEdit,Y=I.action,B=I.modalKey,K=a.PageNumber?parseInt(a.PageNumber):1,R=a.PageSize?parseInt(a.PageSize):(0,p.hL)(),_=[{title:"S\u1ed1 th\u1ee9 t\u1ef1",width:"10%",align:"center",render:function(n,t,e){return(0,b.jsx)("span",{children:(K-1)*R+(e+1)})}},{title:"T\xean c\u1ea5p di t\xedch x\u1ebfp h\u1ea1ng",dataIndex:"Ten",align:"left",width:"40%"},{title:"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb",dataIndex:"GhiChu",align:"center",width:"35%"},{title:"Thao t\xe1c",width:"15%",align:"center",margin:"15px",render:function(n,t){return function(n){return(0,b.jsxs)("div",{className:"action-btn",children:[(0,b.jsx)(r.Z,{title:"S\u1eeda",children:(0,b.jsx)(S.Z,{onClick:function(){return A(n.ID)}})}),(0,b.jsx)(r.Z,{title:"X\xf3a",children:(0,b.jsx)(y.Z,{onClick:function(){return H(n.ID)}})})]})}(t)}}];return(0,b.jsxs)(u.Z,{children:[(0,b.jsx)(s.Z,{children:"Danh M\u1ee5c C\u1ea5p Di T\xedch X\u1ebfp H\u1ea1ng"}),(0,b.jsx)(l.Z,{children:(0,b.jsxs)(Z.zx,{type:"primary",onClick:k,children:[(0,b.jsx)(j.Z,{}),"Th\xeam m\u1edbi"]})}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(f.Z,{children:(0,b.jsx)(Z.Vr,{allowClear:!0,defaultValue:a.Keyword,placeholder:"Nh\u1eadp t\xean c\u1ea5p di t\xedch x\u1ebfp h\u1ea1ng",style:{width:300},onSearch:function(n){return z(n,"Keyword")}})}),(0,b.jsx)(g.ZP,{columns:_,dataSource:v,loading:E,onChange:F,pagination:{showSizeChanger:!0,showTotal:function(n,t){return"T\u1eeb ".concat(t[0]," \u0111\u1ebfn ").concat(t[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:M,current:K,pageSize:R}})]}),(0,b.jsx)(D,{visible:G,dataEdit:L,action:Y,loading:X,onCreate:N,onCancel:U,DanhSachCapDiTichXepHang:v},B)]})}))},11322:function(n,t,e){e.d(t,{M:function(){return h}});var a=e(1413),i=e(29439),r=e(50390),o=e(32812),c=e(891),d=e(32955),u=e(66660),s=e(60606),l=e.n(s),h=function(n,t,e,s,h){var f=(0,r.useState)(!1),g=(0,i.Z)(f,2),Z=g[0],p=g[1],x=(0,r.useState)(""),m=(0,i.Z)(x,2),C=m[0],P=m[1],T=(0,o.z)(),v=(0,i.Z)(T,2),M=v[0],b=v[1],D=(0,r.useState)(!1),S=(0,i.Z)(D,2),y=S[0],j=S[1],w=(0,r.useState)({}),E=(0,i.Z)(w,2),I=E[0],k=E[1],A=function(){k({}),p(!1)};return{showModalAdd:function(){P("add"),k({}),b(),p(!0)},showModalEdit:function(n){P("edit"),e.ChiTietDanhMucChung({ID:n}).then((function(n){n.data.Status>0?(k(n.data.Data),b(),p(!0)):(d.ZP.destroy(),d.ZP.error(n.data.Message))})).catch((function(n){d.ZP.destroy(),d.ZP.error(n.toString())}))},submitModalAddEdit:function(t){j(!0),"add"===C&&e.ThemDanhSachChung(t).then((function(t){j(!1),t.data.Status>0?(d.ZP.destroy(),d.ZP.success(t.data.Message),A(),s.getData(n)):(j(!1),d.ZP.destroy(),d.ZP.error(t.data.Message))})).catch((function(n){j(!1),d.ZP.destroy(),d.ZP.error(n.toString())})),"edit"===C&&e.SuaDanhMucChung(t).then((function(t){t.data.Status>0?(j(!1),d.ZP.destroy(),d.ZP.success(t.data.Message),A(),s.getData(n)):(j(!1),d.ZP.destroy(),d.ZP.error(t.data.Message))})).catch((function(n){j(!1),d.ZP.destroy(),d.ZP.error(n.toString())}))},deleteModalAddEdit:function(i){c.Z.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a d\u1eef li\u1ec7u n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){j(!0),e.XoaDanhMucChung({ListID:[i]}).then((function(e){e.data.Status>0?(j(!1),s.getData((0,a.Z)((0,a.Z)({},n),{},{PageNumber:Math.ceil((h-1)/n.PageSize)<n.PageNumber?Math.ceil((h-1)/n.PageSize):n.PageNumber})),d.ZP.destroy(),d.ZP.success(e.data.Message),t((0,a.Z)((0,a.Z)({},n),{},{PageNumber:Math.ceil((h-1)/n.PageSize)<n.PageNumber?Math.ceil((h-1)/n.PageSize):n.PageNumber}))):(d.ZP.destroy(),d.ZP.error(e.data.Message))})).catch((function(n){d.ZP.destroy(),d.ZP.error(n.toString())}))}})},onFilter:function(e,a){"GhiChu"===a&&e&&(e=l()(e).format("YYYY"));var i=n,r={value:e,property:a},o=(0,u.mB)(i,r,null);t(o),(0,u.ZZ)(o)},onTableChange:function(e,a,i){var r=n,o={pagination:e,filters:a,sorter:i},c=(0,u.mB)(r,null,o);t(c)},dataModalAddEdit:I,confirmLoading:y,visibleModalAddEdit:Z,hideModalAddEdit:A,action:C,modalKey:M}}}}]);