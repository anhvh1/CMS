"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[560],{68448:function(n,e,t){t.d(e,{Z:function(){return c}});t(50390);var a,r=t(30168),i=t(16932),o=(t(32619),i.ZP.div(a||(a=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),s=t(62559),c=function(n){return(0,s.jsx)(o,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return u}});t(50390);var a,r=t(30168),i=t(16932),o=t(29665),s=i.ZP.div(a||(a=(0,r.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),c=(0,o.Z)(s),l=t(62559),u=function(n){return(0,l.jsx)(c,{children:n.children})}},32812:function(n,e,t){t.d(e,{z:function(){return i}});var a=t(29439),r=t(50390);function i(n){var e=(0,r.useState)(0),t=(0,a.Z)(e,2),i=t[0],o=t[1];return[i,function(){o(i+1)}]}},11560:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var a=t(1413),r=t(29439),i=t(5718),o=t(97612),s=t(78333),c=t(92685),l=t(50390),u=t(34424),h=t(3143),d=t(7335),g=t(24274),f=t(41367),Z=t(23194),m=t(31348),x=t(19877),p=t(47471),T=t(66660),S=t(32812),y=t(64693),P=t(55446),j=(t(60606),t(74165)),v=t(15861),C=t(70785),w=t(46008),b=t(50146),k=t(87796),I=t(62559),M=w.Z.Item,D=w.Z.useForm,L=function(n){var e=(0,l.useState)(!0),t=(0,r.Z)(e,2),i=t[0],o=t[1],s=D(),c=(0,r.Z)(s,1)[0],u=n.dataEdit,h=n.loading,d=n.visible,g=n.action;(0,l.useEffect)((function(){u&&u.SystemConfigID&&c&&c.setFieldsValue((0,a.Z)((0,a.Z)({},u),{},{TrangThai:u.TrangThai?1:0}))}),[]);var f=function(){var e=(0,v.Z)((0,j.Z)().mark((function e(t){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c.validateFields();case 3:r=e.sent,n.onCreate((0,a.Z)((0,a.Z)({},r),{},{TrangThai:Boolean(r.TrangThai)}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var n=(0,v.Z)((0,j.Z)().mark((function n(e,t){var a,r,i;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.getFieldsValue();case 2:a=n.sent,r=a.ConfigKey,i=a.ConfigValue,o(!r||!i);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,I.jsx)(x.u_,{title:"".concat("edit"===g?"S\u1eeda tham s\u1ed1 h\u1ec7 th\u1ed1ng":"Th\xeam m\u1edbi ch\u1ee9c n\u0103ng"),width:450,visible:d,onCancel:n.onCancel,footer:[(0,I.jsx)(x.zx,{onClick:n.onCancel,children:"H\u1ee7y"},"back"),(0,I.jsx)(x.zx,{htmlType:"submit",type:"primary",form:"formthamsohethong",loading:h,onClick:f,disabled:i,children:"L\u01b0u"},"submit")],children:(0,I.jsxs)(w.Z,{form:c,name:"formthamsohethong",initialValues:{TrangThai:1},onChange:Z,children:["edit"===g?(0,I.jsx)(M,{name:"SystemConfigID",hidden:!0}):"",(0,I.jsx)(M,(0,a.Z)((0,a.Z)({label:"Tham s\u1ed1",name:"ConfigKey"},C.ITEM_LAYOUT),{},{rules:[C.REQUIRED],children:(0,I.jsx)(x.PQ,{})})),(0,I.jsx)(M,(0,a.Z)((0,a.Z)({label:"Gi\xe1 tr\u1ecb",name:"ConfigValue"},C.ITEM_LAYOUT),{},{rules:[C.REQUIRED],children:(0,I.jsx)(x.II,{})})),(0,I.jsx)(M,(0,a.Z)((0,a.Z)({label:"Ghi ch\xfa",name:"Description"},C.ITEM_LAYOUT),{},{children:(0,I.jsx)(k.Z,{})})),(0,I.jsx)(M,(0,a.Z)((0,a.Z)({label:"\u0110ang s\u1eed d\u1ee5ng",name:"TrangThai"},C.ITEM_LAYOUT),{},{children:(0,I.jsxs)(b.ZP.Group,{children:[(0,I.jsx)(b.ZP,{value:1,children:"C\xf3"}),(0,I.jsx)(b.ZP,{value:0,children:"Kh\xf4ng"})]})}))]})})},z=t(81299),E=t(86460),N=t(79588),H=t(68448);var K=(0,u.$j)((function(n){return(0,a.Z)((0,a.Z)({},n.QuanLyThamSoHeThong),{},{role:(0,T.Ry)(n.Auth.role,"tham-so-he-thong")})}),c.Z)((function(n){document.title="Qu\u1ea3n L\xfd Tham S\u1ed1 H\u1ec7 Th\u1ed1ng";var e=(0,l.useState)(y.parse(n.location.search)),t=(0,r.Z)(e,2),c=t[0],u=t[1],j=(0,l.useState)({}),v=(0,r.Z)(j,2),C=v[0],w=v[1],b=(0,l.useState)(!1),k=(0,r.Z)(b,2),M=k[0],D=k[1],K=(0,l.useState)(""),V=(0,r.Z)(K,2),O=V[0],Q=V[1],R=(0,S.z)(),U=(0,r.Z)(R,2),A=U[0],G=U[1],_=(0,l.useState)([]),B=(0,r.Z)(_,2),F=(B[0],B[1]),Y=(0,l.useState)(!1),X=(0,r.Z)(Y,2),q=X[0],$=X[1];(0,l.useEffect)((function(){(0,T.ZZ)(c),n.getList(c)}),[c]),(0,l.useEffect)((function(){n.getList(c)}),[]);var J=function(n,e){var t=c,a={value:n,property:e},r=(0,T.mB)(t,a,null);u(r),F([])},W=function(){F([]),w({}),D(!1)},nn=function(e){return(0,I.jsxs)("div",{className:"action-btn",children:[an.edit?(0,I.jsx)(s.Z,{title:"S\u1eeda",children:(0,I.jsx)(z.Z,{onClick:function(){return function(n){var e=n;Q("edit"),P.Z.ChiTietThamSoHeThong({SystemConfigID:e}).then((function(n){n.data.Status>0?(w(n.data.Data),G(),D(!0)):(o.ZP.destroy(),o.ZP.error(n.data.Message))})).catch((function(n){o.ZP.destroy(),o.ZP.error(n.toString())}))}(e.SystemConfigID)}})}):"",an.delete?(0,I.jsx)(s.Z,{title:"X\xf3a",children:(0,I.jsx)(E.Z,{onClick:function(){return t=e.SystemConfigID,void i.Z.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a tham s\u1ed1 h\u1ec7 th\u1ed1ng n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){$(!0),P.Z.XoaThamSoHeThong(t).then((function(e){e.data.Status>0?($(!1),n.getList((0,a.Z)((0,a.Z)({},c),{},{PageNumber:Math.ceil((tn-1)/c.PageSize)<c.PageNumber?Math.ceil((tn-1)/c.PageSize):c.PageNumber})),o.ZP.destroy(),o.ZP.success(e.data.Message),u((0,a.Z)((0,a.Z)({},c),{},{PageNumber:Math.ceil((tn-1)/c.PageSize)<c.PageNumber?Math.ceil((tn-1)/c.PageSize):c.PageNumber}))):(o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){o.ZP.destroy(),o.ZP.error(n.toString())}))}});var t}})}):""]})},en=n.DanhSachThamSoHeThong,tn=n.TotalRow,an=n.role,rn=c.PageNumber?parseInt(c.PageNumber):1,on=c.PageSize?parseInt(c.PageSize):(0,T.hL)(),sn=[{title:"STT",width:"5%",align:"center",render:function(n,e,t){return(0,I.jsx)("span",{children:(rn-1)*on+(t+1)})}},{title:"Tham s\u1ed1",dataIndex:"ConfigKey",align:"left",width:"15%"},{title:"Gi\xe1 tr\u1ecb",dataIndex:"ConfigValue",align:"left",width:"25%"},{title:"Ghi ch\xfa",dataIndex:"Description",align:"left",width:"35%"},{title:"Tr\u1ea1ng th\xe1i s\u1eed d\u1ee5ng",align:"center",width:"10%",render:function(n,e){return function(n){return(0,I.jsx)(p.Z,{checked:n.TrangThai})}(e)}},{title:"Thao t\xe1c",width:"10%",align:"center",render:function(n,e){return nn(e)}}];return(0,I.jsxs)(h.Z,{children:[(0,I.jsxs)(H.Z,{children:[(0,I.jsx)(d.Z,{children:"Qu\u1ea3n L\xfd Tham S\u1ed1 H\u1ec7 Th\u1ed1ng"}),(0,I.jsx)(g.Z,{children:an&&an.add?(0,I.jsxs)(x.zx,{type:"primary",onClick:function(){Q("add"),w({}),G(),D(!0)},children:[(0,I.jsx)(N.Z,{}),"Th\xeam M\u1edbi"]}):""})]}),(0,I.jsxs)(f.Z,{children:[(0,I.jsxs)(Z.Z,{children:[(0,I.jsxs)(x.Ph,{style:{width:"200px"},defaultValue:c.Status?"true"===c.Status?"\u0110ang s\u1eed d\u1ee5ng":"Kh\xf4ng s\u1eed d\u1ee5ng":void 0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",allowClear:!0,onChange:function(n){return J(n,"Status")},children:[(0,I.jsx)(Option,{value:!0,children:"\u0110ang s\u1eed d\u1ee5ng"}),(0,I.jsx)(Option,{value:!1,children:"Kh\xf4ng s\u1eed d\u1ee5ng"})]}),(0,I.jsx)(x.Vr,{defaultValue:c.Keyword,placeholder:"T\xecm ki\u1ebfm theo tham s\u1ed1",style:{width:300},onSearch:function(n){return J(n,"Keyword")},allowClear:!0})]}),(0,I.jsx)(m.ZP,{columns:sn,dataSource:en,onChange:function(n,e,t){var a=c,r={pagination:n,filters:e,sorter:t},i=(0,T.mB)(a,null,r);u(i),F([])},pagination:{showSizeChanger:!0,showTotal:function(n,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:tn,current:rn,pageSize:on},rowKey:function(n){return n.SystemConfigID}})]}),(0,I.jsx)(L,{visible:M,dataEdit:C,action:O,loading:q,onCreate:function(e){$(!0),"add"===O&&P.Z.ThemMoiThamSoHeThong(e).then((function(e){$(!1),e.data.Status>0?(o.ZP.destroy(),o.ZP.success(e.data.Message),W(),n.getList(c)):($(!1),o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){$(!1),o.ZP.destroy(),o.ZP.error(n.toString())})),"edit"===O&&P.Z.CapNhatThamSoHeThong(e).then((function(e){e.data.Status>0?($(!1),o.ZP.destroy(),o.ZP.success(e.data.Message),W(),n.getList(c)):($(!1),o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){$(!1),o.ZP.destroy(),o.ZP.error(n.toString())}))},onCancel:W,DanhSachThamSoHeThong:en},A)]})}))}}]);