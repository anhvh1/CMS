"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[946],{44946:function(t,e,n){n.r(e),n.d(e,{default:function(){return M}});var a=n(1413),i=n(15671),l=n(43144),o=n(60136),r=n(29388),c=n(50390),s=n(34424),h=n(3143),u=n(31348),d=n(7335),f=n(41367),g=n(23194),p=n(41719),v=n(32955),Z=n(891),S=n(44695),m=n(55080),x=n(91160),C=n(71209),w=n(42270),y=n(66660),L=n(64693),T=n(21669),j=n(60606),b=n.n(j),k=n(15593),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},H=n(34224),P=function(t,e){return c.createElement(H.Z,(0,a.Z)((0,a.Z)({},t),{},{ref:e,icon:D}))};P.displayName="CloudDownloadOutlined";var N=c.forwardRef(P),F=n(62559),B=p.Z.Search,z=function(t){(0,o.Z)(n,t);var e=(0,r.Z)(n);function n(t){var a;(0,i.Z)(this,n),(a=e.call(this,t)).onSearch=function(t,e){var n=a.state.filterData,i={value:t,property:e},l=(0,y.mB)(n,i,null);a.setState({filterData:l},(function(){(0,y.ZZ)(a.state.filterData),a.props.getList(a.state.filterData)}))},a.onTableChange=function(t,e,n){var i=a.state.filterData,l={pagination:t,filters:e,sorter:n},o=(0,y.mB)(i,null,l);a.setState({filterData:o},(function(){(0,y.ZZ)(a.state.filterData),a.props.getList(a.state.filterData)}))},a.catChuoi=function(t){t.target.value.trim().replace(/ +/g," ");var e=t.charCode;(32===e&&" "===t.target.value[t.target.value.length-1]||32===e&&0===t.target.value.length)&&t.preventDefault(),92!==e&&47!==e&&58!==e&&42!==e&&63!==e&&34!==e&&60!==e&&62!==e&&124!==e||(t.preventDefault(),v.ZP.warn('T\xean file kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t ( / : * ? " < > |)')),50===a.state.tenFileSave.length&&v.ZP.warn("T\xean file ch\u1ec9 ch\u1ee9a t\u1ed1i \u0111a 50 k\xfd t\u1ef1")},a.changeTenFile=function(t){a.setState({tenFileSave:t.target.value})},a.saoLuu=function(){var t=a.state.tenFileSave.trim();""===t?Z.Z.error({title:"L\u1ed7i",content:"Ch\u01b0a nh\u1eadp t\xean file sao l\u01b0u",okText:"Quay l\u1ea1i"}):Z.Z.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n sao l\u01b0u d\u1eef li\u1ec7u hi\u1ec7n t\u1ea1i kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:function(){var e={fileName:t};a.setState({loading:!0}),w.Z.saoLuu(e).then((function(t){a.setState({loading:!1}),t.data.Status>0?(v.ZP.success(t.data.Message),a.props.getList(a.state.filterData),a.props.getNotifications(),a.setState({tenFileSave:""})):(a.setState({loading:!1}),Z.Z.error({title:"L\u1ed7i",content:t.data.Message}))})).catch((function(t){a.setState({loading:!1}),Z.Z.error({title:"L\u1ed7i",content:"L\u1ed7i h\u1ec7 th\u1ed1ng"})}))}})},a.phucHoi=function(){var t=a.state.filePhucHoi;void 0===t?Z.Z.error({title:"L\u1ed7i",content:"Ch\u01b0a ch\u1ecdn file ph\u1ee5c h\u1ed3i",okText:"Quay l\u1ea1i"}):Z.Z.confirm({title:"Th\xf4ng b\xe1o",content:"B\u1ea1n c\xf3 mu\u1ed1n ph\u1ee5c h\u1ed3i d\u1eef li\u1ec7u n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:function(){a.setState({loading:!0});var e={fileName:t};w.Z.phucHoi(e).then((function(t){a.setState({loading:!1}),t.data.Status>0?(v.ZP.success(t.data.Message),a.setState({filePhucHoi:void 0}),a.props.getList(a.state.filterData),a.props.getNotifications()):(a.setState({loading:!1}),Z.Z.error({title:"L\u1ed7i",content:t.data.Message}))})).catch((function(t){a.setState({loading:!1}),Z.Z.error({title:"L\u1ed7i",content:"L\u1ed7i h\u1ec7 th\u1ed1ng"})}))}})},a.changeFilePhucHoi=function(t){a.setState({filePhucHoi:t})},a.changeFilterByName=function(t){a.setState({filterByName:t.target.value})},document.title="Sao l\u01b0u, ph\u1ee5c h\u1ed3i d\u1eef li\u1ec7u";var l=L.parse(a.props.location.search);return a.state={filterData:l,tenFileSave:"",filePhucHoi:void 0,tenFileUpload:"",fileUpload:"",loading:!1,filterByName:""},a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.props.getInitData(this.state.filterData)}},{key:"render",value:function(){var t=this,e=this.props,n=e.LichSuSaoLuu,a=e.TotalRow,i=e.role,l=this.props.DanhSachPhucHoi?this.props.DanhSachPhucHoi:[],o=this.state,r=o.filterData,c=o.loading,s=o.filePhucHoi,v=o.tenFileSave,Z=r.PageNumber?parseInt(r.PageNumber):1,C=r.PageSize?parseInt(r.PageSize):(0,y.hL)(),w=[{title:"STT",align:"center",width:"5%",render:function(t,e,n){return(0,F.jsx)("span",{children:(Z-1)*C+(n+1)})}},{title:"Th\u1eddi gian",dataIndex:"LogTime",align:"center",width:"30%",render:function(t){return(0,F.jsx)("span",{children:b()(t).format("DD/MM/YYYY HH:mm:ss")})}},{title:"Thao t\xe1c",dataIndex:"LogInfo",width:"35%"},{title:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",dataIndex:"TenCanBo",width:"30%"}];return(0,F.jsxs)(h.Z,{children:[(0,F.jsx)(d.Z,{children:"SAO L\u01afU, PH\u1ee4C H\u1ed2I D\u1eee LI\u1ec6U"}),(0,F.jsxs)(f.Z,{children:[(0,F.jsxs)(S.Z,{gutter:[16,16],children:[(0,F.jsxs)(m.Z,{span:24,xl:12,children:[(0,F.jsx)("b",{style:{fontSize:20},children:"Sao l\u01b0u"}),(0,F.jsx)("br",{}),"T\xean file:",(0,F.jsx)(p.Z,{style:{width:"50%",marginLeft:40,marginRight:20},value:v,onChange:function(e){return t.changeTenFile(e)},onKeyPress:function(e){return t.catChuoi(e)},allowClear:!0,maxLength:50,disabled:c,placeholder:"Nh\u1eadp t\xean file sao l\u01b0u",addonBefore:"NNCH_"}),(0,F.jsxs)(x.Z,{type:"primary",style:{width:110},onClick:this.saoLuu,disabled:c&&(null===i||void 0===i?void 0:i.view)&&(null===i||void 0===i?void 0:i.add)&&(null===i||void 0===i?void 0:i.delete)&&(null===i||void 0===i?void 0:i.edit),children:[(0,F.jsx)(k.Z,{})," Sao l\u01b0u"]})]}),(0,F.jsxs)(m.Z,{span:24,xl:12,children:[(0,F.jsx)("b",{style:{fontSize:20},children:"Ph\u1ee5c h\u1ed3i"}),(0,F.jsx)("br",{}),"File sao l\u01b0u:",(0,F.jsx)(T.Ph,{style:{width:"50%",marginLeft:13,marginRight:20},notFoundContent:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",placeholder:"Ch\u1ecdn file ph\u1ee5c h\u1ed3i",value:s,onChange:function(e){return t.changeFilePhucHoi(e)},allowClear:!0,disabled:c&&(null===i||void 0===i?void 0:i.view)&&(null===i||void 0===i?void 0:i.add)&&(null===i||void 0===i?void 0:i.delete)&&(null===i||void 0===i?void 0:i.view),showSearch:!0,children:l.map((function(t){return(0,F.jsx)(T.ZN,{value:t.TenFile,children:t.TenFile})}))}),(0,F.jsxs)(x.Z,{style:{width:110},type:"primary",onClick:this.phucHoi,disabled:this.state.loading,children:[(0,F.jsx)(N,{})," Ph\u1ee5c h\u1ed3i"]}),(0,F.jsx)("br",{}),(0,F.jsx)("br",{}),(0,F.jsx)("b",{children:"Ch\xfa \xfd"}),": Qu\xe1 tr\xecnh kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u c\xf3 th\u1ec3 k\xe9o d\xe0i. Trong qu\xe1 tr\xecnh n\xe0y, nh\u1eefng ng\u01b0\u1eddi d\xf9ng kh\xe1c kh\xf4ng th\u1ec3 truy c\u1eadp h\u1ec7 th\u1ed1ng."]})]}),(0,F.jsxs)(f.Z,{children:[(0,F.jsx)("b",{style:{fontSize:20},children:"L\u1ecbch s\u1eed sao l\u01b0u"}),(0,F.jsx)(g.Z,{children:(0,F.jsx)(B,{placeholder:"Nh\u1eadp th\xf4ng tin c\u1ea7n t\xecm ki\u1ebfm",onSearch:function(e){return t.onSearch(e,"Keyword")},style:{width:300},value:this.state.filterByName,onChange:function(e){return t.changeFilterByName(e)}})}),(0,F.jsx)(u.ZP,{columns:w,dataSource:n,loading:this.props.TableLoading,onChange:this.onTableChange,pagination:{showSizeChanger:!0,showTotal:function(t,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(t)},total:a,current:Z,pageSize:C}})]})]})]})}}]),n}(c.Component);var M=(0,s.$j)((function(t){return(0,a.Z)({},t.QuanTriDuLieu)}),C.Z)(z)},15593:function(t,e,n){n.d(e,{Z:function(){return c}});var a=n(1413),i=n(50390),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},o=n(34224),r=function(t,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},t),{},{ref:e,icon:l}))};r.displayName="CloudUploadOutlined";var c=i.forwardRef(r)},55080:function(t,e,n){var a=n(89984);e.Z=a.Z},44695:function(t,e,n){var a=n(71242);e.Z=a.Z}}]);