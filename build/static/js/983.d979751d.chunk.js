"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[983],{74208:function(n,e,t){t.d(e,{E:function(){return c}});var a=t(45133),r=t.n(a),i=t(66660),c=function(n,e){return r()({method:"POST",url:n,data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,i.Y8)())}}).catch((function(n){var e=n.response,t=e.status,a=e.statusText;return{Status:0,Message:t||a?"".concat(t," - ").concat(a):"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra"}}))}},44024:function(n,e,t){t.d(e,{_:function(){return o},c:function(){return u}});var a=t(1413),r=t(46008),i=t(66660),c=t(62559),o=function(n){return(0,c.jsx)(r.Z,(0,a.Z)((0,a.Z)({onForm:r.Z.useForm},n),{},{onFieldsChange:function(){(0,i.dM)(n.form||n.ref,n.onChangeStatusButton,n.name)}}))},u=r.Z.useForm},94115:function(n,e,t){t.d(e,{c:function(){return s}});var a=t(1413),r=t(93433),i=t(46008),c=t(66660),o=t(70785),u=t(62559),l=i.Z.Item,s=function(n){var e=n.rules?n.rules:[];return(0,u.jsx)(l,(0,a.Z)((0,a.Z)({},n),{},{rules:[].concat((0,r.Z)(e),[{validator:function(e,t,a){return(0,c.ft)(e,t,a,o.MAXLENGTH,null===n||void 0===n?void 0:n.label)}}])}))}},67225:function(n,e,t){var a,r=t(8491),i=t(30168),c=t(16932);t(32619),o=r.Z,(0,c.ZP)(o)(a||(a=(0,i.Z)(["\n  &.ant-switch-checked {\n    \n  }\n"])));var o},68448:function(n,e,t){t.d(e,{Z:function(){return u}});t(50390);var a,r=t(30168),i=t(16932),c=(t(32619),i.ZP.div(a||(a=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),o=t(62559),u=function(n){return(0,o.jsx)(c,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return s}});t(50390);var a,r=t(30168),i=t(16932),c=t(29665),o=i.ZP.div(a||(a=(0,r.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),u=(0,c.Z)(o),l=t(62559),s=function(n){return(0,l.jsx)(u,{children:n.children})}},32812:function(n,e,t){t.d(e,{z:function(){return i}});var a=t(29439),r=t(50390);function i(n){var e=(0,r.useState)(0),t=(0,a.Z)(e,2),i=t[0],c=t[1];return[i,function(){c(i+1)}]}},78983:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var a=t(1413),r=t(74165),i=t(15861),c=t(29439),o=t(32955),u=t(891),l=t(78333),s=t(11176),h=t(50390),d=t(3143),f=t(7335),Z=t(24274),x=t(41367),g=t(23194),p=t(31348),m=t(21669),v=(t(47471),t(67225),t(66660)),T=t(32812),y=t(64693),j=t(64230),w=t(60606),P=t.n(w),N=t(70785),S=t(97555),b=t(94115),L=t(44024),C=t(86424),D=t(62559),I=function(n){var e=(0,L.c)(),t=(0,c.Z)(e,1)[0],o=n.dataEdit,u=n.loading,l=n.visible,s=n.action,d=n.DanhSachAllQLThuVien,f=(0,h.useState)([]),Z=(0,c.Z)(f,2),x=(Z[0],Z[1],(0,h.useState)("")),g=(0,c.Z)(x,2),p=(g[0],g[1]);(0,h.useEffect)((function(){if(o&&o.NhanVienID){var n=P()(o.NgaySinh).format("DD/MM/YYYY");t&&t.setFieldsValue((0,a.Z)((0,a.Z)({},o),{},{NgaySinh:o&&o.NgaySinh?P()(n,"DD/MM/YYYY"):""}))}}),[]);var v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),e.next=3,t.validateFields();case 3:c=e.sent,n.onCreate((0,a.Z)({},c));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,D.jsx)(m.u_,{title:"".concat("edit"===s?"C\u1eadp nh\u1eadt":"Th\xeam"," th\xf4ng tin ngh\u1ec7 nh\xe2n"),width:450,visible:l,onCancel:n.onCancel,footer:[(0,D.jsx)(m.zx,{onClick:n.onCancel,children:"H\u1ee7y"},"back"),(0,D.jsx)(m.zx,{htmlType:"submit",type:"primary",form:"FormNhanLucThuVien",loading:u,onClick:v,children:"L\u01b0u"},"submit")],children:(0,D.jsxs)(L._,{form:t,name:"FormNhanLucThuVien",children:["edit"===s?(0,D.jsx)(b.c,{name:"NhanVienID",hidden:!0}):"",(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"H\u1ecd v\xe0 t\xean",name:"TenNhanVien"},N.ITEM_LAYOUT),{},{rules:[N.REQUIRED],children:(0,D.jsx)(m.II,{})})),(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"Ng\xe0y sinh",name:"NgaySinh"},N.ITEM_LAYOUT),{},{children:(0,D.jsx)(C.C,{onChange:function(n,e){p(n)},format:"DD/MM/YYYY",placeholder:"",style:{width:"100%"}})})),(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"Gi\u1edbi t\xednh",name:"GioiTinh"},N.ITEM_LAYOUT),{},{children:(0,D.jsxs)(S.ZP,{allowClear:!0,children:[(0,D.jsx)(S.Wx,{value:1,children:"Nam"}),(0,D.jsx)(S.Wx,{value:2,children:"N\u1eef"}),(0,D.jsx)(S.Wx,{value:3,children:"Kh\xe1c"})]})})),(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"Th\u01b0 vi\u1ec7n",name:"ThuVienID"},N.ITEM_LAYOUT),{},{rules:[N.REQUIRED],children:(0,D.jsx)(S.ZP,{allowClear:!0,placeholder:"",children:null===d||void 0===d?void 0:d.map((function(n){return(0,D.jsx)(S.Wx,{value:n.ID,children:n.TenThuVien})}))})})),(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",name:"SoDienThoai"},N.ITEM_LAYOUT),{},{children:(0,D.jsx)(m.II,{})})),(0,D.jsx)(b.c,(0,a.Z)((0,a.Z)({label:"Tr\u1ea1ng th\xe1i",name:"TrangThai"},N.ITEM_LAYOUT),{},{rules:[N.REQUIRED],children:(0,D.jsxs)(S.ZP,{allowClear:!0,children:[(0,D.jsx)(S.Wx,{value:!0,children:"\u0110ang l\xe0m"}),(0,D.jsx)(S.Wx,{value:!1,children:"Ngh\u1ec9 vi\u1ec7c"})]})}))]})})},V=t(79758),M=t(81299),Y=t(86460),k=t(79588),E=t(57206),z=t(34424),A=t(74208),U=t(68448);var R=(0,z.$j)((function(n){return(0,a.Z)((0,a.Z)({},n.QLNhanLucThuVien),{},{role:(0,v.Ry)(n.Auth.role,"danh-muc-chuc-vu")})}),s.Z)((function(n){var e=(0,h.useState)(y.parse(n.location.search)),t=(0,c.Z)(e,2),w=t[0],N=t[1],S=(0,h.useState)({}),b=(0,c.Z)(S,2),L=b[0],C=b[1],R=(0,h.useState)(!1),F=(0,c.Z)(R,2),H=F[0],O=F[1],Q=(0,h.useState)(""),_=(0,c.Z)(Q,2),B=_[0],W=_[1],K=(0,T.z)(),G=(0,c.Z)(K,2),X=G[0],q=G[1],J=(0,h.useState)([]),$=(0,c.Z)(J,2),nn=($[0],$[1]),en=(0,h.useState)(!1),tn=(0,c.Z)(en,2),an=tn[0],rn=tn[1],cn=(0,z.I0)();document.title="QU\u1ea2N L\xdd NH\xc2N L\u1ef0C TH\u01af VI\u1ec6N",(0,h.useEffect)((function(){(0,v.ZZ)(w),n.getList(w)}),[w]),(0,h.useEffect)((function(){n.getList(w),cn(s.Z.getAll())}),[]);var on=function(n,e){var t=w,a={value:n,property:e},r=(0,v.mB)(t,a,null);N(r),nn([])},un=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:j.Z.Download().then(function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var t,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t=window.URL.createObjectURL(new Blob([e.data])),(a=document.createElement("a")).href=t,a.setAttribute("download","m\u1eabu.xlsx"),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}catch(r){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){o.ZP.destroy(),o.ZP.warning(n.toString())}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ln=function(n){if(n.size/1024/1024>5)return o.ZP.error("File qu\xe1 l\u1edbn"),!1;var e=new FileReader;return e.onloadend=function(){!function(n,e){var t=new FormData;t.append("file",e),(0,A.E)(j.J.importexcel,t).then((function(n){n.data.Status>0?(o.ZP.destroy(),o.ZP.success(n.data.Message)):(o.ZP.destroy(),o.ZP.warning(n.data.Message))}))}(e.result,n)},e.readAsDataURL(n),!1},sn=function(){nn([]),C({}),O(!1)},hn=function(e){return(0,D.jsxs)("div",{className:"action-btn",children:[(0,D.jsx)(l.Z,{title:"S\u1eeda",children:(0,D.jsx)(M.Z,{onClick:function(){return function(n){var e=n;W("edit"),j.Z.chiTietNhanLucThuVien({ID:e}).then((function(n){n.data.Status>0?(C(n.data.Data),q(),O(!0)):(o.ZP.destroy(),o.ZP.error(n.data.Message))})).catch((function(n){o.ZP.destroy(),o.ZP.error(n.toString())}))}(e.NhanVienID)}})}),(0,D.jsx)(l.Z,{title:"X\xf3a",children:(0,D.jsx)(Y.Z,{onClick:function(){return t=e.NhanVienID,void u.Z.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ch\u1ee9c v\u1ee5 n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){rn(!0),j.Z.xoaNhanLucThuVien(t,{}).then((function(e){e.data.Status>0?(rn(!1),n.getList((0,a.Z)((0,a.Z)({},w),{},{PageNumber:Math.ceil((Zn-1)/w.PageSize)<w.PageNumber?Math.ceil((Zn-1)/w.PageSize):w.PageNumber})),o.ZP.destroy(),o.ZP.success(e.data.Message),N((0,a.Z)((0,a.Z)({},w),{},{PageNumber:Math.ceil((Zn-1)/w.PageSize)<w.PageNumber?Math.ceil((Zn-1)/w.PageSize):w.PageNumber}))):(o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){o.ZP.destroy(),o.ZP.error(n.toString())}))}});var t}})})]})},dn=n.DanhSachNhanLuc,fn=n.DanhSachAllQLThuVien,Zn=n.TotalRow,xn=(n.role,w.PageNumber?parseInt(w.PageNumber):1),gn=w.PageSize?parseInt(w.PageSize):(0,v.hL)(),pn=[{title:"S\u1ed1 th\u1ee9 t\u1ef1",width:"7%",align:"center",render:function(n,e,t){return(0,D.jsx)("span",{children:(xn-1)*gn+(t+1)})}},{title:"T\xean c\xe1n b\u1ed9",dataIndex:"TenNhanVien",align:"left",width:"30%"},{title:"Ng\xe0y sinh",dataIndex:"NgaySinh",align:"left",width:"23%",render:function(n,e){return e.NgaySinh?P()(e.NgaySinh).format("DD/MM/YYYY"):void 0}},{title:"Th\u01b0 vi\u1ec7n",dataIndex:"TenThuVien",align:"left",width:"30%"},{title:"Thao t\xe1c",width:"10%",align:"center",margin:"10px",render:function(n,e){return hn(e)}}];return(0,D.jsxs)(d.Z,{children:[(0,D.jsxs)(U.Z,{children:[(0,D.jsx)(f.Z,{children:"QU\u1ea2N L\xdd NH\xc2N L\u1ef0C TH\u01af VI\u1ec6N"}),(0,D.jsxs)(Z.Z,{children:[(0,D.jsxs)(m.zx,{type:"primary",onClick:un,children:[(0,D.jsx)(k.Z,{}),"T\u1ea3i file m\u1eabu"]}),(0,D.jsx)(V.Z,{beforeUpload:function(n){return ln(n)},showUploadList:!1,children:(0,D.jsxs)(m.zx,{type:"primary",children:[(0,D.jsx)(E.Z,{})," Nh\u1eadp t\u1ec7p"]})}),(0,D.jsxs)(m.zx,{type:"primary",onClick:function(){W("add"),C({}),q(),O(!0)},children:[(0,D.jsx)(k.Z,{}),"Th\xeam m\u1edbi"]})]})]}),(0,D.jsxs)(x.Z,{children:[(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(m.Vr,{defaultValue:w.Keyword,placeholder:"Nh\u1eadp t\xean c\xe1n b\u1ed9 th\u01b0 vi\u1ec7n",style:{width:300},onSearch:function(n){return on(n,"Keyword")},allowClear:!0}),(0,D.jsx)(m.Ph,{showSearch:!0,defaultValue:w.ThuVienID?w.ThuVienID:null,onChange:function(n){return on(n,"ThuVienID")},style:{width:300},placeholder:"Ch\u1ecdn th\u01b0 vi\u1ec7n",allowClear:!0,children:fn?fn.map((function(n){var e;return(0,D.jsx)(Option,{value:null===(e=n.ID)||void 0===e?void 0:e.toString(),children:n.TenThuVien})})):null})]}),(0,D.jsx)(p.ZP,{columns:pn,dataSource:dn,onChange:function(n,e,t){var a=w,r={pagination:n,filters:e,sorter:t},i=(0,v.mB)(a,null,r);N(i),nn([])},pagination:{showSizeChanger:!0,showTotal:function(n,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:Zn,current:xn,pageSize:gn},rowKey:function(n){return n.ID}})]}),(0,D.jsx)(I,{visible:H,dataEdit:L,action:B,loading:an,onCreate:function(e){rn(!0),"add"===B&&j.Z.themNhanLucThuVien(e).then((function(e){rn(!1),e.data.Status>0?(o.ZP.destroy(),o.ZP.success(e.data.Message),sn(),n.getList(w)):(rn(!1),o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){rn(!1),o.ZP.destroy(),o.ZP.error(n.toString())})),"edit"===B&&j.Z.suaNhanLucThuVien(e).then((function(e){e.data.Status>0?(rn(!1),o.ZP.destroy(),o.ZP.success(e.data.Message),sn(),n.getList(w)):(rn(!1),o.ZP.destroy(),o.ZP.error(e.data.Message))})).catch((function(n){rn(!1),o.ZP.destroy(),o.ZP.error(n.toString())}))},onCancel:sn,DanhSachAllQLThuVien:fn},X)]})}))},57206:function(n,e,t){t.d(e,{Z:function(){return u}});var a=t(1413),r=t(50390),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"},c=t(34224),o=function(n,e){return r.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:i}))};o.displayName="FileAddOutlined";var u=r.forwardRef(o)}}]);