"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[906],{68448:function(n,e,t){t.d(e,{Z:function(){return s}});t(50390);var a,i=t(30168),r=t(16932),c=(t(32619),r.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),o=t(62559),s=function(n){return(0,o.jsx)(c,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return u}});t(50390);var a,i=t(30168),r=t(16932),c=t(29665),o=r.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),s=(0,c.Z)(o),l=t(62559),u=function(n){return(0,l.jsx)(s,{children:n.children})}},32812:function(n,e,t){t.d(e,{z:function(){return r}});var a=t(29439),i=t(50390);function r(n){var e=(0,i.useState)(0),t=(0,a.Z)(e,2),r=t[0],c=t[1];return[r,function(){c(r+1)}]}},10906:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var a=t(1413),i=t(29439),r=t(891),c=t(32955),o=t(78333),s=t(97116),l=t(50390),u=t(34424),h=t(3143),d=t(7335),f=t(24274),g=t(41367),Z=t(23194),m=t(31348),x=t(71017),p=(t(47471),t(66660)),v=t(32812),M=t(64693),y=t(98419),w=(t(60606),t(74165)),H=t(15861),P=t(70785),j=t(46008),I=t(69645),N=(t(86424),t(43946)),T=t.n(N),b=t(62559),D=j.Z.Item,S=j.Z.useForm,C=function(n){var e,t=S(),r=(0,i.Z)(t,1)[0],c=n.dataEdit,o=n.loading,s=n.visible,u=n.action,h=(0,p._M)("access_token"),d=(0,p.sE)(h),f=null===d||void 0===d||null===(e=d.NguoiDung)||void 0===e?void 0:e.CoQuanID;c&&c.NhomManHinhs&&c.NhomManHinhs.length>0&&c.NhomManHinhs[0].CoQuanID;(0,l.useEffect)((function(){if(c&&c.ManHinhID){var n=T()(c.NgayCongNhan).format("DD/MM/YYYY");r&&r.setFieldsValue((0,a.Z)((0,a.Z)({},c),{},{NgayCongNhan:c&&c.NgayCongNhan?T()(n,"DD/MM/YYYY"):""}))}}),[]),(0,l.useEffect)((function(){if(c&&c.NhomManHinhs&&c.NhomManHinhs.length>0){var n=c.NhomManHinhs[0].CoQuanID;r.setFieldsValue({CoQuanID:n})}}),[c]);var g=function(){var e=(0,H.Z)((0,w.Z)().mark((function e(t){var i;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.validateFields();case 3:i=e.sent,"add"===u&&(i.CoQuanID=f),n.onCreate((0,a.Z)({},i));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsx)(x.u_,{title:"".concat("edit"===u?"S\u1eeda":"Th\xeam m\u1edbi"," m\xe0n h\xecnh"),width:450,visible:s,onCancel:n.onCancel,footer:[(0,b.jsx)(x.zx,{onClick:n.onCancel,children:"H\u1ee7y"},"back"),(0,b.jsx)(x.zx,{htmlType:"submit",type:"primary",form:"formDiSanTuLieu",loading:o,onClick:g,children:"L\u01b0u"},"submit")],children:(0,b.jsxs)(j.Z,{form:r,name:"formDiSanTuLieu",children:["add"!==u?(0,b.jsx)(D,(0,a.Z)({name:"ManHinhID",hidden:!0},P.REQUIRED)):null,"add"!==u?(0,b.jsx)(D,(0,a.Z)({name:"CoQuanID",hidden:!0},P.REQUIRED)):null,(0,b.jsx)(D,(0,a.Z)((0,a.Z)({label:"T\xean m\xe0n h\xecnh",name:"TenManHinh"},P.ITEM_LAYOUT),{},{rules:[P.REQUIRED],children:(0,b.jsx)(x.II,{})})),(0,b.jsx)(D,(0,a.Z)((0,a.Z)({label:"HardwareKey",name:"HardwareKey"},P.ITEM_LAYOUT),{},{rules:[P.REQUIRED],children:(0,b.jsx)(x.II,{})})),(0,b.jsx)(D,(0,a.Z)((0,a.Z)({label:"\u0110\u1ecba ch\u1ec9 mac ",name:"DiaChiMac"},P.ITEM_LAYOUT),{},{rules:[P.REQUIRED],children:(0,b.jsx)(x.II,{})})),(0,b.jsx)(D,(0,a.Z)((0,a.Z)((0,a.Z)({label:"Tr\u1ea1ng th\xe1i",name:"TrangThai"},P.REQUIRED),P.ITEM_LAYOUT),{},{children:(0,b.jsxs)(I.Z,{allowClear:!0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",children:[(0,b.jsx)(Option,{value:!0,children:"Ho\u1ea1t \u0111\u1ed9ng"}),(0,b.jsx)(Option,{value:!1,children:"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"})]})}))]})})},E=t(81299),z=t(86460),L=t(79588),k=t(68448);var R=(0,u.$j)((function(n){return(0,a.Z)((0,a.Z)({},n.QuanLyManHinh),{},{role:(0,p.Ry)(n.Auth.role,"danh-muc-chuc-vu")})}),s.Z)((function(n){var e=(0,l.useState)(M.parse(n.location.search)),t=(0,i.Z)(e,2),s=t[0],u=t[1],w=(0,l.useState)([]),H=(0,i.Z)(w,2),P=H[0],j=H[1],I=(0,l.useState)(!1),N=(0,i.Z)(I,2),T=N[0],D=N[1],S=(0,l.useState)(""),R=(0,i.Z)(S,2),Q=R[0],Y=R[1],K=(0,v.z)(),U=(0,i.Z)(K,2),O=U[0],q=U[1],_=(0,l.useState)([]),B=(0,i.Z)(_,2),A=(B[0],B[1]),V=(0,l.useState)(!1),F=(0,i.Z)(V,2),X=F[0],$=F[1];document.title="Qu\u1ea3n L\xfd M\xe0n H\xecnh",(0,l.useEffect)((function(){(0,p.ZZ)(s),n.getList(s)}),[s]),(0,l.useEffect)((function(){n.getList(s)}),[]);var G=function(){A([]),j({}),D(!1)},J=function(e){return(0,b.jsxs)("div",{className:"action-btn",children:[(0,b.jsx)(o.Z,{title:"S\u1eeda",children:(0,b.jsx)(E.Z,{onClick:function(){return function(n){var e=n;Y("edit"),y.Z.chiTietManHinh({ManHinhID:e}).then((function(n){n.data.Status>0?(j(n.data.Data),q(),D(!0)):(c.ZP.destroy(),c.ZP.error(n.data.Message))})).catch((function(n){c.ZP.destroy(),c.ZP.error(n.toString())}))}(e.ManHinhID)}})}),(0,b.jsx)(o.Z,{title:"X\xf3a",children:(0,b.jsx)(z.Z,{onClick:function(){return t=e.ManHinhID,void r.Z.confirm({title:"X\xf3a D\u1eef Li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ch\u1ee9c v\u1ee5 n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){$(!0),y.Z.xoaManHinh(t,{}).then((function(e){e.data.Status>0?($(!1),n.getList((0,a.Z)((0,a.Z)({},s),{},{PageNumber:Math.ceil((nn-1)/s.PageSize)<s.PageNumber?Math.ceil((nn-1)/s.PageSize):s.PageNumber})),c.ZP.destroy(),c.ZP.success(e.data.Message),u((0,a.Z)((0,a.Z)({},s),{},{PageNumber:Math.ceil((nn-1)/s.PageSize)<s.PageNumber?Math.ceil((nn-1)/s.PageSize):s.PageNumber}))):(c.ZP.destroy(),c.ZP.error(e.data.Message))})).catch((function(n){c.ZP.destroy(),c.ZP.error(n.toString())}))}});var t}})})]})},W=n.DanhSachManHinh,nn=n.TotalRow,en=(n.role,s.PageNumber?parseInt(s.PageNumber):1),tn=s.PageSize?parseInt(s.PageSize):(0,p.hL)(),an=(0,l.useState)([]),rn=(0,i.Z)(an,2),cn=(rn[0],rn[1],[{title:"STT",align:"center",width:"5%",render:function(n,e,t){return(0,b.jsx)("span",{children:(en-1)*tn+(t+1)})}},{title:"HardwareKey",dataIndex:"HardwareKey",width:"20%"},{title:"T\xean m\xe0n h\xecnh",dataIndex:"TenManHinh",width:"25%"},{title:"\u0110\u1ecba ch\u1ec9 mac",dataIndex:"DiaChiMac",width:"15%"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"TrangThai",align:"left",width:"10%",render:function(n,e){return e.TrangThai?"Ho\u1ea1t \u0111\u1ed9ng":"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"}},{title:"Nh\xf3m",dataIndex:"NhomManHinhs",align:"center",width:"15%",render:function(n,e){return e.NhomManHinhs&&e.NhomManHinhs.length>0?e.NhomManHinhs[0].TenNhom:""}},{title:"Thao t\xe1c",width:"10%",align:"center",margin:"10px",render:function(n,e){return J(e)}}]);return(0,b.jsxs)(h.Z,{children:[(0,b.jsxs)(k.Z,{children:[(0,b.jsx)(d.Z,{children:"QU\u1ea2N L\xdd M\xc0N H\xccNH"}),(0,b.jsx)(f.Z,{children:(0,b.jsxs)(x.zx,{type:"primary",onClick:function(){Y("add"),j({}),q(),D(!0)},children:[(0,b.jsx)(L.Z,{}),"Th\xeam m\u1edbi"]})})]}),(0,b.jsxs)(g.Z,{children:[(0,b.jsx)(Z.Z,{children:(0,b.jsx)(x.Vr,{defaultValue:s.Keyword,placeholder:"Nh\u1eadp t\xean ho\u1eb7c HardwareKey",style:{width:300},onSearch:function(n){return function(n,e){var t=s,a={value:n,property:e},i=(0,p.mB)(t,a,null);u(i),A([])}(n,"Keyword")},allowClear:!0})}),(0,b.jsx)(m.ZP,{columns:cn,dataSource:W,onChange:function(n,e,t){var a=s,i={pagination:n,filters:e,sorter:t},r=(0,p.mB)(a,null,i);u(r),A([])},pagination:{showSizeChanger:!0,showTotal:function(n,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:nn,current:en,pageSize:tn},rowKey:function(n){return n.ID}})]}),(0,b.jsx)(C,{visible:T,dataEdit:P,action:Q,loading:X,onCreate:function(e){$(!0),"add"===Q&&y.Z.themManHinh(e).then((function(e){$(!1),e.data.Status>0?(c.ZP.destroy(),c.ZP.success(e.data.Message),G(),n.getList(s)):($(!1),c.ZP.destroy(),c.ZP.error(e.data.Message))})).catch((function(n){$(!1),c.ZP.destroy(),c.ZP.error(n.toString())})),"edit"===Q&&y.Z.suaManHinh(e).then((function(e){e.data.Status>0?($(!1),c.ZP.destroy(),c.ZP.success(e.data.Message),G(),n.getList(s)):($(!1),c.ZP.destroy(),c.ZP.error(e.data.Message))})).catch((function(n){$(!1),c.ZP.destroy(),c.ZP.error(n.toString())}))},onCancel:G,DanhSachManHinh:W},O)]})}))},86460:function(n,e,t){t.d(e,{Z:function(){return s}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=t(34224),o=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};o.displayName="DeleteOutlined";var s=i.forwardRef(o)},81299:function(n,e,t){t.d(e,{Z:function(){return s}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},c=t(34224),o=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};o.displayName="EditOutlined";var s=i.forwardRef(o)},79588:function(n,e,t){t.d(e,{Z:function(){return s}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=t(34224),o=function(n,e){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};o.displayName="PlusOutlined";var s=i.forwardRef(o)}}]);