"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[490],{44024:function(n,e,t){t.d(e,{_:function(){return r},c:function(){return d}});var a=t(1413),i=t(46008),l=t(66660),o=t(62559),r=function(n){return(0,o.jsx)(i.Z,(0,a.Z)((0,a.Z)({onForm:i.Z.useForm},n),{},{onFieldsChange:function(){(0,l.dM)(n.form||n.ref,n.onChangeStatusButton,n.name)}}))},d=i.Z.useForm},94115:function(n,e,t){t.d(e,{c:function(){return c}});var a=t(1413),i=t(93433),l=t(46008),o=t(66660),r=t(70785),d=t(62559),s=l.Z.Item,c=function(n){var e=n.rules?n.rules:[];return(0,d.jsx)(s,(0,a.Z)((0,a.Z)({},n),{},{rules:[].concat((0,i.Z)(e),[{validator:function(e,t,a){return(0,o.ft)(e,t,a,r.MAXLENGTH,null===n||void 0===n?void 0:n.label)}}])}))}},68448:function(n,e,t){t.d(e,{Z:function(){return d}});t(50390);var a,i=t(30168),l=t(16932),o=(t(32619),l.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),r=t(62559),d=function(n){return(0,r.jsx)(o,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return c}});t(50390);var a,i=t(30168),l=t(16932),o=t(29665),r=l.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),d=(0,o.Z)(r),s=t(62559),c=function(n){return(0,s.jsx)(d,{children:n.children})}},50490:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var a,i,l,o=t(93433),r=t(1413),d=t(29439),s=t(50390),c=t(34424),u=t(64693),h=t(66209),m=t(46725),f=t(70785),x=t.n(f),C=t(97555),Z=t(3143),g=t(7335),p=t(24274),v=t(41367),I=t(23194),L=t(31348),j=t(74165),T=t(15861),D=t(19877),b=t(55080),E=t(50146),y=(t(47471),t(60209),t(66660)),A=t(30168),M=t(16932),w=M.ZP.div(a||(a=(0,A.Z)(["\n  .ant-tree {\n    margin: 10px 0;\n  }\n  .ant-tree-list,\n  .ant-tree-node-content-wrapper div {\n    background: #fafafa;\n  }\n  .title {\n    font-weight: 600;\n    font-size: 18px;\n  }\n  .ant-tree\n    .ant-tree-treenode:not(.ant-tree .ant-tree-treenode-disabled).filter-node\n    .ant-tree-title {\n    color: red;\n  }\n  span.ant-tree-iconEle.ant-tree-icon__customize {\n    display: none !important;\n  }\n"]))),O=(M.ZP.div(i||(i=(0,A.Z)(["\n  @media (min-width: 1024px) {\n    .checkbox-coquan {\n      width: 88%;\n      float: right;\n    }\n  }\n"]))),M.ZP.div(l||(l=(0,A.Z)(["\n  width: 100%;\n  .mg-top {\n    margin-top: 20px;\n    height: calc(100vh - 265px);\n    overflow: scroll;\n  }\n"]))),{colFull:{xs:24,sm:24,md:24,lg:24,xl:24},colHaft:{xs:24,sm:24,md:24,lg:12,xl:12},colThirt:{xs:24,sm:24,md:12,lg:8,xl:8},colCustom1:{xs:24,sm:24,md:12,lg:9,xl:9},colCustom2:{xs:24,sm:24,md:12,lg:7,xl:7},colCustom3:{xs:24,sm:24,md:12,lg:8,xl:8},formItem1:{labelCol:{xs:3,sm:3,md:3,lg:3,xl:3},wrapperCol:{xs:21,sm:21,md:21,lg:21,xl:21},labelAlign:"left"},formItem2:{labelCol:{xs:6,sm:6,md:6,lg:6,xl:6},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18},labelAlign:"left"},formItem3:{labelCol:{xs:9,sm:9,md:9,lg:9,xl:9},wrapperCol:{xs:16,sm:16,md:16,lg:16,xl:16}},formItem2_1:{labelCol:{xs:6,sm:6,md:6,lg:6,xl:6},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18}},formItem3_1:{labelCol:{xs:8,sm:8,md:8,lg:8,xl:8},wrapperCol:{xs:15,sm:15,md:15,lg:15,xl:15}},formItem3_3:{labelCol:{xs:5,sm:5,md:5,lg:5,xl:5},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18}}}),P=t(94115),S=t(44024),K=t(62559),U=function(n){var e=n.visible,t=n.onCancel,a=n.dataModalEdit,i=n.onCreate,l=n.action,o=(0,S.c)(),c=(0,d.Z)(o,1)[0];(0,s.useEffect)((function(){a&&c&&c.setFieldsValue((0,r.Z)((0,r.Z)({},a),{},{LoaiCot:a.LoaiCot}))}),[]);var u=function(){var n=(0,T.Z)((0,j.Z)().mark((function n(e){var t,l;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,c.validateFields();case 3:for(l in t=n.sent)t[l]||delete t[l];console.log(t,"value"),a.CotChaID&&(t.CotChaID=a.CotChaID),i((0,r.Z)({},t));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=null===a||void 0===a?void 0:a.TenCotCha;return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(D.u_,{open:e,title:"add"===l?"Th\xeam ti\xeau ch\xed":"S\u1eeda ti\xeau ch\xed",onCancel:t,width:"700px",footer:[(0,K.jsx)(D.zx,{onClick:t,children:"H\u1ee7y"},"back"),(0,K.jsx)(D.zx,{type:"primary",htmlType:"submit",onClick:u,form:"FormDMTieuChi",children:"L\u01b0u"},"submit")],children:(0,K.jsxs)(S._,{form:c,name:"FormDMTieuChi",initialValues:{},children:["edit"===l?(0,K.jsx)(P.c,(0,r.Z)({hidden:!0,name:"CotID"},f.ITEM_LAYOUT_SMALL)):null,h?(0,K.jsx)(b.Z,(0,r.Z)((0,r.Z)({},O.colFull),{},{children:(0,K.jsx)(P.c,(0,r.Z)((0,r.Z)({label:"Ti\xeau c\u1ed9t cha",name:"TenCotCha"},f.ITEM_LAYOUT_SMALL),{},{children:(0,K.jsx)(D.II,{})}))})):null,(0,K.jsx)(P.c,(0,r.Z)((0,r.Z)({label:"M\xe3 c\u1ed9t",name:"MaCot"},f.ITEM_LAYOUT_SMALL),{},{children:(0,K.jsx)(D.II,{})})),(0,K.jsx)(P.c,(0,r.Z)((0,r.Z)({label:"T\xean c\u1ed9t",name:"TenCot",rules:[f.REQUIRED]},f.ITEM_LAYOUT_SMALL),{},{children:(0,K.jsx)(D.II,{})})),(0,K.jsx)(P.c,(0,r.Z)((0,r.Z)({label:"Ki\u1ec3u d\u1eef li\u1ec7u",name:"KieuDuLieuCot",rules:[f.REQUIRED]},f.ITEM_LAYOUT_SMALL),{},{children:(0,K.jsxs)(C.ZP,{children:[(0,K.jsx)(C.Wx,{value:f.LOAIDULIEUCOT.KIEUINT,children:"Ki\u1ec3u s\u1ed1"}),(0,K.jsx)(C.Wx,{value:f.LOAIDULIEUCOT.KIEUCHU,children:"Ki\u1ec3u ch\u1eef"}),(0,K.jsx)(C.Wx,{value:f.LOAIDULIEUCOT.KIEUSODECIMAL,children:"Ki\u1ec3u s\u1ed1 th\u1eadp ph\xe2n"}),(0,K.jsx)(C.Wx,{value:f.LOAIDULIEUCOT.KIEUDUNGSAI,children:"Ki\u1ec3u \u0111\xfang/sai"}),(0,K.jsx)(C.Wx,{value:f.LOAIDULIEUCOT.KIEUNGAYTHANG,children:"Ki\u1ec3u ng\xe0y/th\xe1ng"})]})})),(0,K.jsx)(P.c,(0,r.Z)((0,r.Z)({name:"LoaiCot"},f.ITEM_LAYOUT_SMALL),{},{children:(0,K.jsxs)(E.ZP.Group,{children:[(0,K.jsx)(E.ZP,{value:f.LOAICOT.PhanDauBaoCao,disabled:h,children:"Ph\u1ea7n \u0111\u1ea7u trang"}),(0,K.jsx)(E.ZP,{value:f.LOAICOT.PhanTieuChi,disabled:h,children:"Ph\u1ea7n th\xe2n trang"}),(0,K.jsx)(E.ZP,{value:f.LOAICOT.PhanCuoiBaoCao,disabled:h,children:"Ph\u1ea7n cu\u1ed1i trang"})]})}))]})})})},_=s.memo(U),k=t(43530),R=t(5718),N=t(97612),F=t(40238),B=t(14355),q=t(91160),H=t(79588),Y=t(66331),z=t(68448),V=k.Z.TreeNode;var G=(0,c.$j)((function(n){return(0,r.Z)({},n.DMTieuChi)}),h.Z)((function(n){document.title="Danh m\u1ee5c ti\xeau ch\xed";var e=(0,s.useState)([]),t=(0,d.Z)(e,2),a=t[0],i=t[1],l=(0,s.useState)(u.parse(n.location.search)),c=(0,d.Z)(l,2),h=c[0],C=c[1],j=(0,s.useState)({key:0,treeKey:0}),T=(0,d.Z)(j,2),D=T[0],b=T[1],E=(0,s.useState)({confirmLoading:!1,visibleModalAddEdit:!1,action:"",dataModalAddEdit:{DanhSachTinh:[],Data:null},modalKey:0}),A=(0,d.Z)(E,2),M=A[0],O=A[1],P=n.DanhSachTieuChi,S=n.DanhSachDauBaoCao,U=n.DanhSachCuoiBaoCao,G=M.confirmLoading,W=M.visibleModalAddEdit,X=M.action,Q=M.dataModalAddEdit,J=M.modalKey,$=D.treeKey,nn=D.key;(0,s.useEffect)((function(){n.getList(h)}),[]);(0,s.useEffect)((function(){(0,y.ZZ)(h),n.getList(h)}),[h]);var en=function n(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.CotID===t)return i;if(i.children&&i.children.length>0){var l=n(i.children,t);if(null!==l)return l}}return null},tn=function(n,e,t,a){if(e)m.Z.ChiTietTieuChi({ID:n}).then((function(e){if(e.data.Status>0){var t=e.data.Data,a=J+1;O((function(e){return(0,r.Z)((0,r.Z)({},e),{},{visibleModalAddEdit:!0,dataModalAddEdit:{CotChaID:n,TenCotCha:t.TenCot},confirmLoading:!1,modalKey:a,action:"add"})}))}else R.Z.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(n){N.ZP.destroy(),N.ZP.warning(n.toString())}));else{var i=J+1;O((function(e){return(0,r.Z)((0,r.Z)({},e),{},{visibleModalAddEdit:!0,dataModalAddEdit:{CotChaID:n,TenCotCha:t,LoaiCot:a},confirmLoading:!1,modalKey:i,action:"add"})}))}},an=function(){O((function(n){return{dataModalAddEdit:{},visibleModalAddEdit:!1,action:""}}))},ln=function(n,e){var t=e.nativeEvent.target.outerHTML.toString(),l=e.nativeEvent.target.parentElement.className.toString(),d=t.includes("ant-dropdown-menu"),s=l.includes("ant-dropdown-menu");if(!d&&!s){var c=e.node.props.eventKey.toString();if(c&&!e.node.props.isLeaf){var u=(0,o.Z)(a),h=u.indexOf(c);h>-1?u.splice(h,1):u=u.concat([c]),i(u),b((function(e){return(0,r.Z)((0,r.Z)({},e),{},{key:n})}))}}},on=(0,s.useState)(null),rn=(0,d.Z)(on,2),dn=rn[0],sn=rn[1],cn=function e(t,a,i){return null===t||void 0===t?void 0:t.map((function(t){var l=en(a,t.CotChaID),o=(0,K.jsxs)(F.Z,{children:[(0,K.jsx)(F.Z.Item,{onClick:function(){tn(t.CotID,t.CotChaID,t.TenCot,t.LoaiCot),sn(null)},children:(0,K.jsx)("span",{children:"Th\xeam ti\xeau ch\xed"})}),(0,K.jsx)(F.Z.Item,{onClick:function(){!function(n,e,t){console.log(e,t,"CotChaID, objParent"),m.Z.ChiTietTieuChi({ID:n}).then((function(a){if(a.data.Status>0){var i=a.data.Data,l=J+1;O((function(a){return(0,r.Z)((0,r.Z)({},a),{},{visibleModalAddEdit:!0,dataModalAddEdit:(0,r.Z)((0,r.Z)({},i),{},{CotID:n,TenCotCha:null===t||void 0===t?void 0:t.TenCot,CotChaID:e}),confirmLoading:!1,modalKey:l,action:"edit"})}))}else R.Z.error({title:"L\u1ed7i",content:a.data.Message})})).catch((function(n){R.Z.error(x().API_ERROR)}))}(t.CotID,t.CotChaID,l),sn(null)},children:(0,K.jsx)("span",{children:"S\u1eeda"})}),(0,K.jsx)(F.Z.Item,{onClick:function(){var e;e=t.CotID,R.Z.confirm({title:"X\xf3a d\u1eef li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ti\xeau ch\xed n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){m.Z.XoaTieuChi({ListID:[e]}).then((function(e){e.data.Status>0?(n.getList(h),N.ZP.destroy(),N.ZP.success(e.data.Message)):R.Z.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(n){R.Z.error(x().API_ERROR)}))}}),sn(null)},children:(0,K.jsx)("span",{children:"X\xf3a"})})]}),d=(0,K.jsx)("div",{children:(0,K.jsx)(B.Z,{overlay:o,placement:"bottomLeft",trigger:["contextMenu"],visible:dn===t.CotID,onVisibleChange:function(){return function(n){sn(dn===n.CotID?null:n.CotID)}(t)},children:(0,K.jsx)("span",{className:"title-tree",style:t.CotID===n.styled?{color:"red"}:{},children:t.TenCot})})});return t.Children?(0,K.jsx)(V,{title:d,isLeaf:t.isLeaf,Children:t.Children,dataRef:t,children:e(t.Children,a,i)},t.CotID):(0,K.jsx)(V,{title:d,isLeaf:t.isLeaf,Children:t.Children,dataRef:t},t.CotID)}))};console.log(a,"expandedKeys");var un=function(e,t){var i=e;return null!==e&&void 0!==e&&e.length?(0,K.jsx)(k.Z,{showLine:!0,filterTreeNode:function(n){return 1===n.props.dataRef.Highlight},onSelect:ln,onExpand:ln,defaultExpandedKeys:nn,expandedKeys:h.Keyword?n.expandedKeys:a,children:cn(i,i,t)}):(0,K.jsx)(L.o1,{loading:n.TableLoading})},hn=n.role;JSON.parse(localStorage.getItem("user"));return(0,K.jsx)(w,{children:(0,K.jsxs)(Z.Z,{children:[(0,K.jsxs)(z.Z,{children:[(0,K.jsx)(g.Z,{children:"Danh m\u1ee5c ti\xeau ch\xed"}),(0,K.jsx)(p.Z,{children:null!==hn&&void 0!==hn&&hn.add?(0,K.jsx)("span",{children:(0,K.jsxs)(q.Z,{type:"primary",onClick:function(){return tn("","","")},className:"d-none",children:[(0,K.jsx)(H.Z,{}),"Th\xeam m\u1edbi"]})}):""})]}),(0,K.jsxs)(v.Z,{className:"box",children:[(0,K.jsx)(I.Z,{children:(0,K.jsx)(Y.Vr,{allowClear:!0,defaultValue:h.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean ti\xeau ch\xed",onSearch:function(n){return function(n,e){var t=(0,r.Z)({},h),a={value:n,property:e},i=(0,y.mB)(t,a,null);C(i)}(n,"Keyword")},style:{width:300}})}),(0,K.jsxs)("div",{style:{userSelect:"none"},className:"mg-top",children:[null!==S&&void 0!==S&&S.length?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("p",{className:"title",children:"Ph\u1ea7n \u0111\u1ea7u b\xe1o c\xe1o"}),un(S,f.LOAICOT.PhanDauBaoCao)]}):null,null!==P&&void 0!==P&&P.length?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("p",{className:"title",children:"Ph\u1ea7n n\u1ed9i dung ti\xeau ch\xed b\xe1o c\xe1o"}),un(P,f.LOAICOT.PhanTieuChi)]}):null,null!==U&&void 0!==U&&U.length?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("p",{className:"title",children:"Ph\u1ea7n cu\u1ed1i b\xe1o c\xe1o"}),un(U,f.LOAICOT.PhanCuoiBaoCao)]}):null]},$)]}),(0,K.jsx)(_,{confirmLoading:G,visible:W,onCancel:an,onCreate:function(e){O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{confirmLoading:!0})})),"add"===X?m.Z.ThemTieuChi(e).then((function(e){O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{confirmLoading:!1})})),e.data.Status>0?(N.ZP.destroy(),N.ZP.success(e.data.Message),an(),n.getList(h)):R.Z.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(n){R.Z.error(x().API_ERROR)})):m.Z.SuaTieuChi(e).then((function(e){O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{confirmLoading:!1})})),e.data.Status>0?(N.ZP.destroy(),N.ZP.success(e.data.Message),an(),n.getList(h)):R.Z.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(n){R.Z.error(x().API_ERROR)}))},dataModalEdit:Q,DanhSachTieuChi:P,action:X},J)]})})}))},79588:function(n,e,t){t.d(e,{Z:function(){return d}});var a=t(1413),i=t(50390),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=t(66555),r=function(n,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:l}))};r.displayName="PlusOutlined";var d=i.forwardRef(r)},55080:function(n,e,t){var a=t(89984);e.Z=a.Z}}]);