"use strict";(self.webpackChunkbrvh=self.webpackChunkbrvh||[]).push([[644],{74208:function(n,e,t){t.d(e,{E:function(){return o}});var a=t(45133),i=t.n(a),r=t(66660),o=function(n,e){return i()({method:"POST",url:n,data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,r.Y8)())}}).catch((function(n){var e=n.response,t=e.status,a=e.statusText;return{Status:0,Message:t||a?"".concat(t," - ").concat(a):"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra"}}))}},68448:function(n,e,t){t.d(e,{Z:function(){return c}});t(50390);var a,i=t(30168),r=t(16932),o=(t(32619),r.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  /* padding: 10px 0; */\n  gap: 10px;\n  width: 100%;\n"])))),l=t(62559),c=function(n){return(0,l.jsx)(o,{className:"wrapper-top",children:n.children})}},24274:function(n,e,t){t.d(e,{Z:function(){return d}});t(50390);var a,i=t(30168),r=t(16932),o=t(29665),l=r.ZP.div(a||(a=(0,i.Z)(["\n  /* margin-top: 15px;\n  margin-bottom: 15px; */\n  text-align: right;\n  /* display: inline-block; */\n  flex: 1;\n  padding: 0 3px 0 0;\n  /* margin-bottom: 10px; */\n  display: flex;\n  gap: 10px;\n  justify-content: end;\n  flex-wrap: wrap;\n  align-items: center;\n  @media only screen and (max-width: 1336px) {\n    text-align: left;\n    /* display: block; */\n    flex: none;\n    width: 100%;\n    padding: 0 0 10px 0;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n  /* button {\n    margin-right: 0px;\n    margin-left: 10px;\n    @media only screen and (max-width: 1336px) {\n      margin-left: 0px;\n      margin-right: 10px;\n    }\n  } */\n"]))),c=(0,o.Z)(l),u=t(62559),d=function(n){return(0,u.jsx)(c,{children:n.children})}},32812:function(n,e,t){t.d(e,{z:function(){return r}});var a=t(29439),i=t(50390);function r(n){var e=(0,i.useState)(0),t=(0,a.Z)(e,2),r=t[0],o=t[1];return[r,function(){o(r+1)}]}},98644:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var a=t(74165),i=t(15861),r=t(1413),o=t(29439),l=t(50390),c=t(34424),u=(t(45133),t(64693)),d=t(99285),s=t(69585),h=t(70785),f=t.n(h),Z=(t(60606),t(3143)),v=t(7335),g=t(24274),p=t(41367),m=t(23194),x=t(31348),T=t(35951),j=t(93433),b=t(46008),w=t(32955),y=t(891),S=t(91565),L=t(41719),D=t(50146),E=t(79758),B=t(97555),I=t(81295),C=t(66660),P=t(62559),k=b.Z.Item,M=function(n){var e=(0,l.useState)(!1),t=(0,o.Z)(e,2),a=t[0],i=(t[1],(0,l.useState)([])),u=(0,o.Z)(i,2),d=u[0],s=u[1],f=((0,c.v9)((function(n){return n.ListSideBar})).ListSideBar,(0,l.useState)(!1)),Z=(0,o.Z)(f,2),v=Z[0],g=Z[1],p=(0,b.Z.useForm)(),m=(0,o.Z)(p,1)[0];(0,c.I0)();(0,l.useEffect)((function(){}),[]),(0,l.useEffect)((function(){var e=n.dataModalAddEdit;if(e&&e.Data&&"undefined"!==typeof e.Data.LaBaoTang){e.DanhSachBaoVatQuocGia;var t,a,i=e.Data;m&&m.setFieldsValue((0,r.Z)({},i));var o;if(null!==(t=e.Data)&&void 0!==t&&t.TenFileGoc){var l,c,u={TenFileGoc:null===(l=e.Data)||void 0===l?void 0:l.TenFileGoc,FileUrl:null===(c=e.Data)||void 0===c?void 0:c.UrlFile};s([u])}if(null!==e&&void 0!==e&&null!==(a=e.Data)&&void 0!==a&&a.CapID)GetListMenuByCap(null===e||void 0===e||null===(o=e.Data)||void 0===o?void 0:o.CapID);g(i.LaBaoTang)}}),[]);var x=function(n,e,t){var a=(0,j.Z)(t);s(a)},T=function(n,e,t){var a,i=null===(a=(0,C.kA)("data_config"))||void 0===a?void 0:a.fileLimit,r=n.size/1024/1024<i,o=[];return null===t||void 0===t||t.forEach((function(n){d.filter((function(e){return e.TenFileGoc===n.name})).length&&o.push(n)})),r?function(n,e,t){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result,n,t)})),a.readAsDataURL(n)}(n,e,t):w.ZP.error("File \u0111\xednh k\xe8m ph\u1ea3i nh\u1ecf h\u01a1n ".concat(i,"MB")),!1},y=n.confirmLoading,M=n.visible,R=n.onCancel,U=n.action,F=n.danhSachBaoTang;return(0,P.jsx)(I.Z,{title:"".concat("edit"===U?"S\u1eecA":"TH\xcaM"," B\u1ea2O V\u1eacT QU\u1ed0C GIA"),width:h.MODAL_NORMAL,visible:M,onCancel:R,footer:[(0,P.jsx)(S.ZP,{onClick:R,children:"H\u1ee7y"},"back"),(0,P.jsx)(S.ZP,{loading:y,onClick:function(e){e.preventDefault(),m.validateFields().then((function(e){if(d.length<1)return w.ZP.destroy(),void w.ZP.warning("Ch\u01b0a ch\u1ecdn file \u0111\xednh k\xe8m");var t=(0,r.Z)((0,r.Z)({},e),{},{TenFileGoc:d[0].name});(0,n.onCreate)(t,d[0])}))},type:"primary",children:"L\u01b0u"})],children:(0,P.jsxs)(b.Z,{form:m,children:["add"!==U?(0,P.jsx)(k,(0,r.Z)({name:"IDBaoVat",hidden:!0},h.REQUIRED)):null,(0,P.jsx)(k,(0,r.Z)((0,r.Z)({label:"T\xean",name:"TenBaoVat"},h.ITEM_LAYOUT),{},{rules:[h.REQUIRED],children:(0,P.jsx)(L.Z,{})})),(0,P.jsx)(k,(0,r.Z)((0,r.Z)({label:"S\u1ed1 hi\u1ec7u",name:"SoHieu"},h.ITEM_LAYOUT),{},{rules:[h.REQUIRED],children:(0,P.jsx)(L.Z,{})})),(0,P.jsx)(k,(0,r.Z)((0,r.Z)({label:"Ni\xean \u0111\u1ea1i",name:"NienDai"},h.ITEM_LAYOUT),{},{rules:[h.REQUIRED],children:(0,P.jsx)(L.Z,{})})),(0,P.jsx)(k,(0,r.Z)((0,r.Z)({label:"\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd",name:"LaBaoTang"},h.ITEM_LAYOUT),{},{rules:[h.REQUIRED],children:(0,P.jsxs)(D.ZP.Group,{onChange:function(n){var e=n.target.value;g(e)},children:[(0,P.jsx)(D.ZP,{value:!0,children:"B\u1ea3o t\xe0ng"}),(0,P.jsx)(D.ZP,{value:!1,children:"Kh\xe1c"})]})})),v&&(0,P.jsx)(k,(0,r.Z)((0,r.Z)({label:" ",name:"BaoTangID"},h.ITEM_LAYOUT),{},{children:(0,P.jsx)(B.ZP,{allowClear:!0,placeholder:"Ch\u1ecdn b\u1ea3o t\xe0ng",children:null===F||void 0===F?void 0:F.map((function(n){return(0,P.jsx)(B.Wx,{value:n.ID,children:n.TenBaoTang},n.ID)}))})})),(0,P.jsx)(k,(0,r.Z)((0,r.Z)((0,r.Z)({label:"\u0110\u1ecba ph\u01b0\u01a1ng",name:"DiaPhuong"},h.REQUIRED),h.ITEM_LAYOUT),{},{children:(0,P.jsx)(L.Z,{})})),(0,P.jsxs)(k,(0,r.Z)((0,r.Z)({label:"Th\xf4ng tin chi ti\u1ebft"},h.ITEM_LAYOUT),{},{rules:[h.REQUIRED],children:[(0,P.jsx)(E.Z,{showUploadList:!1,actions:!1,beforeUpload:function(n,e){T(n,x,e)},disabled:a,children:(0,P.jsx)(S.ZP,{type:"primary",loading:a,className:"btn-upload",children:"Ch\u1ecdn file t\u1eeb li\u1ec7u t\u1eeb m\xe1y t\xednh"})}),d&&null!==d&&void 0!==d&&d.length?d.map((function(n,e){return(0,P.jsx)("p",{children:(0,P.jsx)("a",{target:"_bank",href:null===n||void 0===n?void 0:n.FileUrl,children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.TenFileGoc)})},e)})):""]})),(0,P.jsx)("div",{})]})})},R=t(78333),U=t(91160),F=t(74208),z=t(35238),G=t(81299),Q=t(86460),O=t(79588),q=t(32812),A=t(68448),V=t(66331);var N=(0,c.$j)((function(n){return(0,r.Z)((0,r.Z)({},n.QlBaoVatQuocGia),{},{FileLimit:(0,C.wU)("fileLimit",10)})}),d.Z)((function(n){document.title="Qu\u1ea3n l\xfd b\u1ea3o v\u1eadt qu\u1ed1c gia";var e=(0,l.useState)(u.parse(n.location.search)),t=(0,o.Z)(e,2),h=t[0],j=t[1],b=(0,l.useState)(!1),S=(0,o.Z)(b,2),L=S[0],D=S[1],E=(0,q.z)(),B=(0,o.Z)(E,2),I=B[0],k=B[1],N=(0,l.useState)(!1),_=(0,o.Z)(N,2),H=_[0],Y=_[1],K=((0,c.v9)((function(n){return n.ListSideBar})).ListSideBar,(0,l.useState)({})),J=(0,o.Z)(K,2),X=J[0],W=J[1],$=(0,l.useState)(""),nn=(0,o.Z)($,2),en=nn[0],tn=nn[1],an=(0,c.I0)();(0,l.useEffect)((function(){an(d.Z.getInitData(h)),an(T.Z.getList())}),[]),(0,l.useEffect)((function(){(0,C.ZZ)(h),n.getList(h)}),[h]);var rn=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(e){var t,i,r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.downloadFile({ID:e.IDBaoVat});case 3:(t=n.sent)&&t.data.Status>0?(i=t.data.Data).UrlFile&&""!==i.UrlFile&&((r=document.createElement("a")).href=i.UrlFile,r.download=i.TenFileGoc,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)):w.ZP.error("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),on=function(){Y(!1),W({})},ln=n.DanhSachBaoVatQuocGia,cn=n.DanhSachBaoTang,un=n.TotalRow,dn=(n.role,h.PageNumber?parseInt(h.PageNumber):1),sn=h.PageSize?parseInt(h.PageSize):(0,C.hL)(),hn=[{title:"STT",align:"center",width:"5%",render:function(n,e,t){return(0,P.jsx)("span",{children:(dn-1)*sn+(t+1)})}},{title:"T\xean b\u1ea3o v\u1eadt qu\u1ed1c gia",dataIndex:"TenBaoVat",width:"20%"},{title:"S\u1ed1 hi\u1ec7u",dataIndex:"SoHieu",width:"15%",align:"center"},{title:"Ni\xean \u0111\u1ea1i",dataIndex:"NienDai",width:"20%"},{title:"\u0110\u01a1n v\u1ecb qu\u1ea3n l\xfd",dataIndex:"TenBaoTang",width:"15%"},{title:"\u0110\u1ecba ph\u01b0\u01a1ng",dataIndex:"DiaPhuong",width:"15%"},{title:"Thao t\xe1c",width:"10%",align:"center",margin:"10px",render:function(n,e){return fn(e)}}],fn=function(n){return(0,P.jsxs)("div",{className:"action-btn",children:[(0,P.jsx)(R.Z,{title:"Chi ti\u1ebft",children:(0,P.jsx)(z.Z,{onClick:function(){return rn(n)}})}),(0,P.jsx)(R.Z,{title:"S\u1eeda",children:(0,P.jsx)(G.Z,{onClick:function(){return function(n){W({Data:n,DanhSachBaoVatQuocGia:[]}),Y(!0),k(),tn("edit")}(n)}})}),(0,P.jsx)(R.Z,{title:"X\xf3a",children:(0,P.jsx)(Q.Z,{onClick:function(){return e=n.IDBaoVat,void y.Z.confirm({title:"X\xf3a d\u1eef li\u1ec7u",content:" B\u1ea1n c\xf3 mu\u1ed1n x\xf3a file b\u1ea3o v\u1eadt qu\u1ed1c gia n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){s.Z.xoaBaoVatQuocGia(e).then((function(n){n.data.Status>0?(w.ZP.success("X\xf3a th\xe0nh c\xf4ng"),an(d.Z.getList(h)),an(d.Z.getGuild())):y.Z.error({title:"L\u1ed7i",content:n.data.Message})})).catch((function(n){y.Z.error(f().API_ERROR)}))}});var e}})})]})},Zn=n.FileLimit;return(0,P.jsxs)(Z.Z,{children:[(0,P.jsxs)(A.Z,{children:[(0,P.jsx)(v.Z,{children:"Qu\u1ea3n l\xfd b\u1ea3o v\u1eadt qu\u1ed1c gia"}),(0,P.jsx)(g.Z,{children:(0,P.jsxs)(U.Z,{type:"primary",onClick:function(){W({}),Y(!0),k(),tn("add")},children:[(0,P.jsx)(O.Z,{}),"Th\xeam m\u1edbi"," "]})})]}),(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(m.Z,{children:(0,P.jsx)(V.Vr,{allowClear:!0,defaultValue:h.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean b\u1ea3o v\u1eadt",onSearch:function(n){return function(n,e){var t=(0,r.Z)({},h),a={value:n,property:e},i=(0,C.mB)(t,a,null);j(i)}(n,"Keyword")},style:{width:300}})}),(0,P.jsx)(x.ZP,{columns:hn,dataSource:ln,loading:n.TableLoading,onChange:function(n,e,t){var a=(0,r.Z)({},h),i={pagination:n,filters:e,sorter:t},o=(0,C.mB)(a,null,i);j(o)},pagination:{showSizeChanger:!0,showTotal:function(n,e){return"T\u1eeb ".concat(e[0]," \u0111\u1ebfn ").concat(e[1]," tr\xean ").concat(n," k\u1ebft qu\u1ea3")},total:un,current:dn,pageSize:sn}})]}),(0,P.jsx)(M,{confirmLoading:L,visible:H,onCancel:on,onCreate:function(n,e){if(D(!0),"add"===en){var t=new FormData;t.append("files",e),t.append("QuanLyBaoVatQuocGiaStr",JSON.stringify(n)),(0,F.E)(s.J.thembaovatquocgia,t).then((function(n){D(!1),n.data.Status>0?(w.ZP.success("Th\xeam th\xe0nh c\xf4ng"),on(),an(d.Z.getList(h)),an(d.Z.getGuild())):(w.ZP.destroy(),w.ZP.error(n.data.Message))})).catch((function(n){w.ZP.destroy(),w.ZP.error(n.toString())}))}else if("edit"===en){var a=new FormData;a.append("QuanLyBaoVatQuocGiaStr",JSON.stringify(n)),e.name&&a.append("files",e),(0,F.E)(s.J.suabaovatquocgia,a).then((function(n){D(!1),n.data.Status>0?(w.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),on(),an(d.Z.getList(h)),an(d.Z.getGuild())):(w.ZP.destroy(),w.ZP.error(n.data.Message))})).catch((function(n){w.ZP.destroy(),w.ZP.error(n.toString())}))}},dataModalAddEdit:X,danhSachBaoTang:cn,FileLimit:Zn,action:en},I)]})}))},86460:function(n,e,t){t.d(e,{Z:function(){return c}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=t(34224),l=function(n,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="DeleteOutlined";var c=i.forwardRef(l)},81299:function(n,e,t){t.d(e,{Z:function(){return c}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=t(34224),l=function(n,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="EditOutlined";var c=i.forwardRef(l)},35238:function(n,e,t){t.d(e,{Z:function(){return c}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},o=t(34224),l=function(n,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="EyeOutlined";var c=i.forwardRef(l)},79588:function(n,e,t){t.d(e,{Z:function(){return c}});var a=t(1413),i=t(50390),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=t(34224),l=function(n,e){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:e,icon:r}))};l.displayName="PlusOutlined";var c=i.forwardRef(l)}}]);